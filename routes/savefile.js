var a25_0x1706fb=a25_0x1199;(function(_0x29fcb9,_0x46335d){var _0x55b1cb=a25_0x1199,_0x5dc124=_0x29fcb9();while(!![]){try{var _0x310f81=-parseInt(_0x55b1cb(0xb9))/0x1*(-parseInt(_0x55b1cb(0x8d))/0x2)+-parseInt(_0x55b1cb(0x92))/0x3*(-parseInt(_0x55b1cb(0xbc))/0x4)+-parseInt(_0x55b1cb(0xa0))/0x5*(-parseInt(_0x55b1cb(0x9b))/0x6)+-parseInt(_0x55b1cb(0xad))/0x7*(-parseInt(_0x55b1cb(0xa1))/0x8)+parseInt(_0x55b1cb(0xa8))/0x9*(parseInt(_0x55b1cb(0xbb))/0xa)+parseInt(_0x55b1cb(0xb7))/0xb+-parseInt(_0x55b1cb(0x9e))/0xc;if(_0x310f81===_0x46335d)break;else _0x5dc124['push'](_0x5dc124['shift']());}catch(_0x3cc5ed){_0x5dc124['push'](_0x5dc124['shift']());}}}(a25_0x3605,0xe45d9));function a25_0x3605(){var _0x3fa34c=['\x20first\x20index:','426fROkls','substring','ServerFrontEndUrlAsAllowedOriginOnly','73337532aUVNKR','path','118395kCsyKg','816472cMIDFV','file\x20written','indexOf','from','length','cvjs_debug','existsSync','9hvBePS','ServerUrl','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','close','post','91pcarpF','X\x20\x20','open','http:','Router','express','setHeader','send','savefile:','file_content','2825119RRpXIP','log','1NfgGnM','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','11218760cJHGyz','4csccfb','ServerLocation','error\x20savefile:\x20','/savefile','dirname','3250132ofFOYM','https:','body','../CADViewer_config.json','Access-Control-Allow-Origin','3105297nrfkiZ','HERE\x20','join','replace','ServerFrontEndUrl','error\x20-\x20savefile','Succes','Access-Control-Allow-Origin\x20:'];a25_0x3605=function(){return _0x3fa34c;};return a25_0x3605();}var config=require(a25_0x1706fb(0x90)),cvjs_debug=config[a25_0x1706fb(0xa6)],express=require(a25_0x1706fb(0xb2)),router=express[a25_0x1706fb(0xb1)]();const fs=require('fs'),path=require(a25_0x1706fb(0x9f));function a25_0x1199(_0x1ecb00,_0x467621){var _0x3605a0=a25_0x3605();return a25_0x1199=function(_0x11994f,_0x32cfd1){_0x11994f=_0x11994f-0x8b;var _0x5f41bd=_0x3605a0[_0x11994f];return _0x5f41bd;},a25_0x1199(_0x1ecb00,_0x467621);}function createDirRecursively(_0x13392d){var _0x28358d=a25_0x1706fb;!fs[_0x28358d(0xa7)](_0x13392d)&&(createDirRecursively(path[_0x28358d(0x94)](_0x13392d,'..')),fs['mkdirSync'](_0x13392d));}router[a25_0x1706fb(0xac)](a25_0x1706fb(0x8b),(_0x109e66,_0x59bfa9)=>{var _0x385b10=a25_0x1706fb;if(config[_0x385b10(0x9d)]==!![]){_0x59bfa9[_0x385b10(0xb3)]('Access-Control-Allow-Origin',config[_0x385b10(0x96)]);if(cvjs_debug)console[_0x385b10(0xb8)](_0x385b10(0x99)+config[_0x385b10(0x96)]);}else{_0x59bfa9[_0x385b10(0xb3)](_0x385b10(0x91),'*');if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:\x20*');}try{var _0xcc7c36=_0x109e66['body']['file'],_0x5c8f72=_0x109e66[_0x385b10(0x8f)][_0x385b10(0xb6)],_0x44bc02=Buffer[_0x385b10(0xa4)](_0x5c8f72),_0x5656e0=![];console[_0x385b10(0xb8)]('savefile:'+_0xcc7c36+_0x385b10(0x9a)+_0xcc7c36[_0x385b10(0xa3)]('/'));if(_0xcc7c36[_0x385b10(0xa3)](_0x385b10(0xb0))>-0x1||_0xcc7c36['indexOf'](_0x385b10(0x8e))>-0x1){}else{if(_0xcc7c36['indexOf'](':')>0x0&&_0xcc7c36[_0x385b10(0xa3)](':')<0x3){if(_0xcc7c36[_0x385b10(0xa3)]('/')==0x0)_0xcc7c36=_0xcc7c36['substring'](0x1);}else(_0xcc7c36['indexOf']('/')==0x0||_0xcc7c36[_0x385b10(0xa3)]('\x5c')==0x0)&&(console[_0x385b10(0xb8)](_0x385b10(0xaa)+_0xcc7c36[_0x385b10(0xa3)](config[_0x385b10(0xbd)])),(_0xcc7c36[_0x385b10(0xa3)](config[_0x385b10(0xbd)])==-0x1||_0xcc7c36[_0x385b10(0xa3)](config[_0x385b10(0xbd)])>0x3)&&(console[_0x385b10(0xb8)](_0x385b10(0xba)),_0xcc7c36=config[_0x385b10(0xbd)]+_0xcc7c36,_0x5656e0=!![]));}console[_0x385b10(0xb8)]('after:'+_0xcc7c36);var _0x3957b7=path[_0x385b10(0x8c)](_0xcc7c36);createDirRecursively(_0x3957b7),_0xcc7c36=decodeURI(_0xcc7c36),_0xcc7c36=_0xcc7c36['replace'](/%3A/g,':'),_0xcc7c36=_0xcc7c36[_0x385b10(0x95)](/%2F/g,'/'),_0xcc7c36=_0xcc7c36[_0x385b10(0x95)](/%20/g,'\x20');if(config[_0x385b10(0xa6)])console[_0x385b10(0xb8)](_0x385b10(0x93)+_0xcc7c36+'\x20X'+config[_0x385b10(0x96)]+_0x385b10(0xae)+config[_0x385b10(0xa9)]);if(_0xcc7c36[_0x385b10(0xa3)](config[_0x385b10(0x96)])==0x0){if(_0x5656e0){}else _0xcc7c36=config[_0x385b10(0xbd)]+_0xcc7c36[_0x385b10(0x9c)](config[_0x385b10(0x96)][_0x385b10(0xa5)]);}else _0xcc7c36[_0x385b10(0xa3)](config[_0x385b10(0xa9)])==0x0&&(_0xcc7c36=config['ServerLocation']+_0xcc7c36[_0x385b10(0x9c)](config['ServerUrl'][_0x385b10(0xa5)]));_0xcc7c36=_0xcc7c36[_0x385b10(0x95)](/\\/g,'/');if(config[_0x385b10(0xa6)])console['log'](_0x385b10(0xb5)+_0xcc7c36);fs[_0x385b10(0xaf)](_0xcc7c36,'w',function(_0x2cac67,_0x4bd81e){fs['write'](_0x4bd81e,_0x44bc02,0x0,_0x44bc02['length'],null,function(_0x4d2a34){var _0x1afb1f=a25_0x1199;if(_0x4d2a34){if(config[_0x1afb1f(0xa6)])console['log']('error\x20savefile:\x20'+_0x4d2a34);_0x59bfa9[_0x1afb1f(0xb4)](_0x1afb1f(0xbe)+_0x4d2a34);}else fs[_0x1afb1f(0xab)](_0x4bd81e,function(){var _0x27a62e=_0x1afb1f;if(config[_0x27a62e(0xa6)])console['log'](_0x27a62e(0xa2));_0x59bfa9['send'](_0x27a62e(0x98));});});});}catch(_0x3c2eaa){_0x59bfa9[_0x385b10(0xb4)](_0x385b10(0x97));if(config[_0x385b10(0xa6)])console[_0x385b10(0xb8)](_0x3c2eaa);}}),module['exports']=router;