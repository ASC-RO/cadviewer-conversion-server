var a25_0x556156=a25_0x5c6a;function a25_0x7b26(){var _0xca8b37=['length','2129865yTuZnz','cvjs_debug','../CADViewer_config.json','ServerUrl','HERE\x20','10878203rihvqQ','write','ServerFrontEndUrlAsAllowedOriginOnly','indexOf','879834UYhLWD','25QJJfZE','ServerFrontEndUrl','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','replace','send','post','5974698qPvBMN','https:','setHeader','file_content','Access-Control-Allow-Origin\x20:','Access-Control-Allow-Origin','path','/savefile','join','file\x20written','Succes','mkdirSync','file','717224lpVmAe','error\x20-\x20savefile','X\x20\x20','dirname','8vEdQDK','savefile:','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','787358kBvlYJ','http:','exports','ServerLocation','log','close','error\x20savefile:\x20','substring','body','36556407VdIqqE','open','express'];a25_0x7b26=function(){return _0xca8b37;};return a25_0x7b26();}(function(_0x412760,_0x2f9c69){var _0x428e77=a25_0x5c6a,_0x31be7f=_0x412760();while(!![]){try{var _0x4ff10c=-parseInt(_0x428e77(0xd2))/0x1+parseInt(_0x428e77(0xed))/0x2+parseInt(_0x428e77(0xc9))/0x3+-parseInt(_0x428e77(0xe6))/0x4*(parseInt(_0x428e77(0xd3))/0x5)+-parseInt(_0x428e77(0xd9))/0x6+-parseInt(_0x428e77(0xce))/0x7+parseInt(_0x428e77(0xea))/0x8*(parseInt(_0x428e77(0xc5))/0x9);if(_0x4ff10c===_0x2f9c69)break;else _0x31be7f['push'](_0x31be7f['shift']());}catch(_0x2cf5b6){_0x31be7f['push'](_0x31be7f['shift']());}}}(a25_0x7b26,0xcce71));var config=require(a25_0x556156(0xcb)),cvjs_debug=config[a25_0x556156(0xca)],express=require(a25_0x556156(0xc7)),router=express['Router']();const fs=require('fs'),path=require(a25_0x556156(0xdf));function createDirRecursively(_0x369a1f){var _0x5282dc=a25_0x556156;!fs['existsSync'](_0x369a1f)&&(createDirRecursively(path[_0x5282dc(0xe1)](_0x369a1f,'..')),fs[_0x5282dc(0xe4)](_0x369a1f));}function a25_0x5c6a(_0x5d78a0,_0x143395){var _0x7b2697=a25_0x7b26();return a25_0x5c6a=function(_0x5c6aac,_0x1d2226){_0x5c6aac=_0x5c6aac-0xbd;var _0x28c72d=_0x7b2697[_0x5c6aac];return _0x28c72d;},a25_0x5c6a(_0x5d78a0,_0x143395);}router[a25_0x556156(0xd8)](a25_0x556156(0xe0),(_0x409227,_0x1540b1)=>{var _0x459ee6=a25_0x556156;if(config[_0x459ee6(0xd0)]==!![]){_0x1540b1[_0x459ee6(0xdb)](_0x459ee6(0xde),config['ServerFrontEndUrl']);if(cvjs_debug)console['log'](_0x459ee6(0xdd)+config[_0x459ee6(0xd4)]);}else{_0x1540b1[_0x459ee6(0xdb)](_0x459ee6(0xde),'*');if(cvjs_debug)console[_0x459ee6(0xc0)]('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x450599=_0x409227[_0x459ee6(0xc4)][_0x459ee6(0xe5)],_0x36506e=_0x409227[_0x459ee6(0xc4)][_0x459ee6(0xdc)],_0x19a1c6=Buffer['from'](_0x36506e),_0x22bf90=![];console[_0x459ee6(0xc0)](_0x459ee6(0xeb)+_0x450599+'\x20first\x20index:'+_0x450599[_0x459ee6(0xd1)]('/'));if(_0x450599[_0x459ee6(0xd1)](_0x459ee6(0xbd))>-0x1||_0x450599['indexOf'](_0x459ee6(0xda))>-0x1){}else{if(_0x450599[_0x459ee6(0xd1)](':')>0x0&&_0x450599[_0x459ee6(0xd1)](':')<0x3){if(_0x450599[_0x459ee6(0xd1)]('/')==0x0)_0x450599=_0x450599['substring'](0x1);}else(_0x450599[_0x459ee6(0xd1)]('/')==0x0||_0x450599['indexOf']('\x5c')==0x0)&&(console[_0x459ee6(0xc0)](_0x459ee6(0xec)+_0x450599[_0x459ee6(0xd1)](config[_0x459ee6(0xbf)])),(_0x450599['indexOf'](config['ServerLocation'])==-0x1||_0x450599['indexOf'](config[_0x459ee6(0xbf)])>0x3)&&(console['log'](_0x459ee6(0xd5)),_0x450599=config[_0x459ee6(0xbf)]+_0x450599,_0x22bf90=!![]));}console[_0x459ee6(0xc0)]('after:'+_0x450599);var _0xa243b2=path[_0x459ee6(0xe9)](_0x450599);createDirRecursively(_0xa243b2),_0x450599=decodeURI(_0x450599),_0x450599=_0x450599[_0x459ee6(0xd6)](/%3A/g,':'),_0x450599=_0x450599['replace'](/%2F/g,'/'),_0x450599=_0x450599[_0x459ee6(0xd6)](/%20/g,'\x20');if(config[_0x459ee6(0xca)])console[_0x459ee6(0xc0)](_0x459ee6(0xcd)+_0x450599+'\x20X'+config['ServerFrontEndUrl']+_0x459ee6(0xe8)+config[_0x459ee6(0xcc)]);if(_0x450599[_0x459ee6(0xd1)](config[_0x459ee6(0xd4)])==0x0){if(_0x22bf90){}else _0x450599=config['ServerLocation']+_0x450599[_0x459ee6(0xc3)](config[_0x459ee6(0xd4)][_0x459ee6(0xc8)]);}else _0x450599['indexOf'](config[_0x459ee6(0xcc)])==0x0&&(_0x450599=config[_0x459ee6(0xbf)]+_0x450599[_0x459ee6(0xc3)](config[_0x459ee6(0xcc)]['length']));_0x450599=_0x450599[_0x459ee6(0xd6)](/\\/g,'/');if(config['cvjs_debug'])console[_0x459ee6(0xc0)](_0x459ee6(0xeb)+_0x450599);fs[_0x459ee6(0xc6)](_0x450599,'w',function(_0x39b779,_0x4390d0){var _0xfe3a67=_0x459ee6;fs[_0xfe3a67(0xcf)](_0x4390d0,_0x19a1c6,0x0,_0x19a1c6[_0xfe3a67(0xc8)],null,function(_0x58f963){var _0x4b7610=_0xfe3a67;if(_0x58f963){if(config[_0x4b7610(0xca)])console[_0x4b7610(0xc0)]('error\x20savefile:\x20'+_0x58f963);_0x1540b1[_0x4b7610(0xd7)](_0x4b7610(0xc2)+_0x58f963);}else fs[_0x4b7610(0xc1)](_0x4390d0,function(){var _0x61cf70=_0x4b7610;if(config['cvjs_debug'])console[_0x61cf70(0xc0)](_0x61cf70(0xe2));_0x1540b1[_0x61cf70(0xd7)](_0x61cf70(0xe3));});});});}catch(_0x4d096a){_0x1540b1[_0x459ee6(0xd7)](_0x459ee6(0xe7));if(config[_0x459ee6(0xca)])console[_0x459ee6(0xc0)](_0x4d096a);}}),module[a25_0x556156(0xbe)]=router;