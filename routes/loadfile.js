function a17_0x4e54(_0x411cfb,_0xe26d59){var _0x1484c9=a17_0x1484();return a17_0x4e54=function(_0x4e549f,_0xb61e34){_0x4e549f=_0x4e549f-0x1d1;var _0x1ea68e=_0x1484c9[_0x4e549f];return _0x1ea68e;},a17_0x4e54(_0x411cfb,_0xe26d59);}var a17_0x53a104=a17_0x4e54;(function(_0x3e16c7,_0x2ea6e4){var _0x5ac63e=a17_0x4e54,_0x141e5c=_0x3e16c7();while(!![]){try{var _0x3423b2=parseInt(_0x5ac63e(0x218))/0x1*(-parseInt(_0x5ac63e(0x1e2))/0x2)+-parseInt(_0x5ac63e(0x214))/0x3+-parseInt(_0x5ac63e(0x20d))/0x4+-parseInt(_0x5ac63e(0x1e4))/0x5*(parseInt(_0x5ac63e(0x1fd))/0x6)+parseInt(_0x5ac63e(0x1f4))/0x7+parseInt(_0x5ac63e(0x1ea))/0x8+parseInt(_0x5ac63e(0x20c))/0x9;if(_0x3423b2===_0x2ea6e4)break;else _0x141e5c['push'](_0x141e5c['shift']());}catch(_0xac8c5f){_0x141e5c['push'](_0x141e5c['shift']());}}}(a17_0x1484,0x2ab80));var config=require(a17_0x53a104(0x219)),cvjs_debug=config[a17_0x53a104(0x211)];function a17_0x1484(){var _0x1342b9=['http','1qLRjbM','../CADViewer_config.json','image/jpeg','ServerUrl','post','base64file','loadtype','\x20\x20\x20','jpg','base64','json','ServerFrontEndUrlAsAllowedOriginOnly','xx\x20\x20loadtype=\x20','image/png','application/json','dwg','/loadfile\x20-\x20error','2:\x20\x20/loadfile:\x20','Content-Disposition','Router','image/gif','menufile','finish','substring','image/svg+xml','replace','204548SWSmEF','ServerLocation','5QjFDQz','Access-Control-Allow-Methods','gif','fileLocation','branch\x205','request','2013160cpsjiM','Access-Control-Allow-Credentials','log','body','redline','/loadfile','setHeader','readFileSync','https:','random','1575952KZfKNF','newcontenLocation\x20','branch\x202','svg','Access-Control-Allow-Headers','file','toLowerCase','express','application/dwg','1323618bcTpqP','jpeg','send','lastIndexOf','error','Error\x20loadfile:','ServerFrontEndUrl','http:','pipe','createWriteStream','languagefile','indexOf','query','Access-Control-Allow-Origin','error\x20-\x20loadfile','4403700kDUNPI','755872ocMEUZ','text/plain','Content-Type','length','cvjs_debug','floor','png','837780blsroI','data:image/png;base64,','branch\x201'];a17_0x1484=function(){return _0x1342b9;};return a17_0x1484();}const httprequest=require(a17_0x53a104(0x1e9));var express=require(a17_0x53a104(0x1fb)),router=express[a17_0x53a104(0x1db)]();function loadFile(_0x42a0df,_0x282125){var _0x873a68=a17_0x53a104;try{config[_0x873a68(0x1d3)]==!![]?_0x282125[_0x873a68(0x1f0)](_0x873a68(0x20a),config[_0x873a68(0x203)]):_0x282125[_0x873a68(0x1f0)](_0x873a68(0x20a),'*');_0x282125[_0x873a68(0x1f0)](_0x873a68(0x1e5),'GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x282125[_0x873a68(0x1f0)](_0x873a68(0x1f8),'X-Requested-With,content-type'),_0x282125['setHeader'](_0x873a68(0x1eb),!![]);var _0x354b4f=_0x42a0df[_0x873a68(0x1ed)][_0x873a68(0x1f9)];_0x354b4f==undefined&&(_0x354b4f=_0x42a0df[_0x873a68(0x209)]['file']);var _0x38862f=_0x42a0df[_0x873a68(0x1ed)]['loadtype'];_0x38862f==undefined&&(_0x38862f=_0x42a0df[_0x873a68(0x209)][_0x873a68(0x21e)]);_0x354b4f=decodeURI(_0x354b4f),_0x354b4f=_0x354b4f[_0x873a68(0x1e1)](/%3A/g,':'),_0x354b4f=_0x354b4f[_0x873a68(0x1e1)](/%2F/g,'/'),_0x354b4f=_0x354b4f[_0x873a68(0x1e1)](/%20/g,'\x20'),_0x354b4f=_0x354b4f['replaceAll']('+','\x20');if(config[_0x873a68(0x211)])console['log']('1:\x20/loadfile:\x20xx'+_0x354b4f+_0x873a68(0x1d4)+_0x38862f);if(config[_0x873a68(0x203)]!=''&&_0x354b4f['indexOf'](config[_0x873a68(0x203)])==0x0&&_0x354b4f[_0x873a68(0x208)](config[_0x873a68(0x21b)])!=0x0){if(config[_0x873a68(0x211)])console[_0x873a68(0x1ec)](_0x873a68(0x216));_0x354b4f=config[_0x873a68(0x1e3)]+_0x354b4f[_0x873a68(0x1df)](config[_0x873a68(0x203)][_0x873a68(0x210)]);}else{if(_0x354b4f[_0x873a68(0x208)](config[_0x873a68(0x21b)])==0x0){if(config[_0x873a68(0x211)])console['log'](_0x873a68(0x1f6));_0x354b4f=config['ServerLocation']+_0x354b4f[_0x873a68(0x1df)](config[_0x873a68(0x21b)][_0x873a68(0x210)]);}else{if(_0x38862f!=undefined&&_0x38862f[_0x873a68(0x208)](_0x873a68(0x21d))==0x0||_0x38862f!=undefined&&_0x38862f[_0x873a68(0x208)](_0x873a68(0x1dd))==0x0||_0x38862f!=undefined&&_0x38862f['indexOf'](_0x873a68(0x207))==0x0||_0x38862f!=undefined&&_0x38862f[_0x873a68(0x208)]('merge')==0x0||_0x38862f!=undefined&&_0x38862f['indexOf'](_0x873a68(0x1ee))==0x0){if(_0x354b4f[_0x873a68(0x208)](_0x873a68(0x204))==0x0||_0x354b4f[_0x873a68(0x208)](_0x873a68(0x1f2))==0x0){if(config[_0x873a68(0x211)])console['log']('branch\x203');}else{if(_0x354b4f['indexOf'](config['ServerLocation'])==0x0){if(config['cvjs_debug'])console[_0x873a68(0x1ec)]('branch\x204');}else{if(config[_0x873a68(0x211)])console[_0x873a68(0x1ec)](_0x873a68(0x1e8));_0x354b4f=config[_0x873a68(0x1e3)]+_0x354b4f;}}}}}if(config[_0x873a68(0x211)])console[_0x873a68(0x1ec)](_0x873a68(0x1d9)+_0x354b4f+_0x873a68(0x21f));var _0x97a2fc=require('fs');if(_0x354b4f['indexOf'](_0x873a68(0x217))==0x0){var _0x27488d=Math[_0x873a68(0x212)](Math[_0x873a68(0x1f3)]()*Math[_0x873a68(0x212)](0xf4240)),_0x59e435='F'+_0x27488d,_0x3e8cc9=_0x354b4f[_0x873a68(0x1df)](_0x354b4f[_0x873a68(0x200)]('.')+0x1),_0x5625c5=config[_0x873a68(0x1e7)]+_0x59e435+'.'+_0x3e8cc9;if(cvjs_debug)console[_0x873a68(0x1ec)](_0x873a68(0x1f5)+_0x5625c5);var _0x97a2fc=require('fs');httprequest(_0x354b4f)[_0x873a68(0x205)](_0x97a2fc[_0x873a68(0x206)](_0x5625c5))['on'](_0x873a68(0x201),()=>{var _0x5afb58=_0x873a68;console[_0x5afb58(0x1ec)]('ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20'+_0x354b4f),_0x282125['send'](_0x5afb58(0x1d8));})['on'](_0x873a68(0x1de),()=>{var _0x38f9ae=_0x873a68;if(cvjs_debug)console[_0x38f9ae(0x1ec)]('finshed\x20loading\x20'+_0x354b4f+'\x20,\x20writing\x20to:\x20'+_0x5625c5);var _0x248fca;if(_0x3e8cc9[_0x38f9ae(0x1fa)]()[_0x38f9ae(0x208)](_0x38f9ae(0x213))==0x0&&_0x38862f=='base64file')_0x248fca=_0x97a2fc[_0x38f9ae(0x1f1)](_0x5625c5,{'encoding':_0x38f9ae(0x1d1)}),_0x248fca=_0x38f9ae(0x215)+_0x248fca;else _0x248fca=_0x97a2fc['readFileSync'](_0x5625c5);if(_0x3e8cc9[_0x38f9ae(0x208)](_0x38f9ae(0x213))==0x0)_0x282125[_0x38f9ae(0x1f0)](_0x38f9ae(0x20f),_0x38f9ae(0x1d5));else{if(_0x3e8cc9['indexOf'](_0x38f9ae(0x220))==0x0)_0x282125[_0x38f9ae(0x1f0)]('Content-Type',_0x38f9ae(0x21a));else{if(_0x3e8cc9[_0x38f9ae(0x208)](_0x38f9ae(0x1fe))==0x0)_0x282125[_0x38f9ae(0x1f0)](_0x38f9ae(0x20f),_0x38f9ae(0x21a));else{if(_0x3e8cc9[_0x38f9ae(0x208)](_0x38f9ae(0x1e6))==0x0)_0x282125['setHeader'](_0x38f9ae(0x20f),_0x38f9ae(0x1dc));else{if(_0x3e8cc9[_0x38f9ae(0x208)](_0x38f9ae(0x1d2))==0x0)_0x282125[_0x38f9ae(0x1f0)](_0x38f9ae(0x20f),_0x38f9ae(0x1d6));else{if(_0x3e8cc9['indexOf']('svg')==0x0)_0x282125['setHeader'](_0x38f9ae(0x20f),_0x38f9ae(0x1e0));else{if(_0x3e8cc9['indexOf'](_0x38f9ae(0x1d7))==0x0){_0x282125[_0x38f9ae(0x1f0)](_0x38f9ae(0x20f),'application/dwg');var _0x2ec082=_0x354b4f['substring'](_0x354b4f[_0x38f9ae(0x200)]('/')+0x1);_0x282125[_0x38f9ae(0x1f0)](_0x38f9ae(0x1da),'attachment;filename=\x22'+_0x2ec082+'\x22');}else _0x282125[_0x38f9ae(0x1f0)](_0x38f9ae(0x20f),_0x38f9ae(0x20e));}}}}}}if(cvjs_debug)console['log']('4:'+_0x3e8cc9);if(cvjs_debug)console[_0x38f9ae(0x1ec)]('\x20reading\x20and\x20sending\x20data\x20png:'+(_0x3e8cc9[_0x38f9ae(0x208)](_0x38f9ae(0x213))==0x0));_0x282125[_0x38f9ae(0x1ff)](_0x248fca);});}else{var _0x2c1126=_0x97a2fc[_0x873a68(0x1f1)](_0x354b4f),_0x3e8cc9=_0x354b4f[_0x873a68(0x1df)](_0x354b4f[_0x873a68(0x200)]('.')+0x1);if(_0x3e8cc9['toLowerCase']()[_0x873a68(0x208)](_0x873a68(0x213))==0x0&&_0x38862f=='base64file')_0x2c1126=_0x97a2fc[_0x873a68(0x1f1)](_0x354b4f,{'encoding':_0x873a68(0x1d1)}),_0x2c1126=_0x873a68(0x215)+_0x2c1126;else _0x2c1126=_0x97a2fc[_0x873a68(0x1f1)](_0x354b4f);if(_0x3e8cc9[_0x873a68(0x208)](_0x873a68(0x213))==0x0)_0x282125[_0x873a68(0x1f0)](_0x873a68(0x20f),_0x873a68(0x1d5));else{if(_0x3e8cc9[_0x873a68(0x208)](_0x873a68(0x220))==0x0)_0x282125[_0x873a68(0x1f0)](_0x873a68(0x20f),_0x873a68(0x21a));else{if(_0x3e8cc9['indexOf'](_0x873a68(0x1fe))==0x0)_0x282125[_0x873a68(0x1f0)](_0x873a68(0x20f),_0x873a68(0x21a));else{if(_0x3e8cc9[_0x873a68(0x208)](_0x873a68(0x1e6))==0x0)_0x282125['setHeader'](_0x873a68(0x20f),'image/gif');else{if(_0x3e8cc9['indexOf']('json')==0x0)_0x282125[_0x873a68(0x1f0)](_0x873a68(0x20f),'application/json');else{if(_0x3e8cc9['indexOf'](_0x873a68(0x1f7))==0x0)_0x282125['setHeader'](_0x873a68(0x20f),_0x873a68(0x1e0));else{if(_0x3e8cc9[_0x873a68(0x208)](_0x873a68(0x1d7))==0x0){_0x282125[_0x873a68(0x1f0)]('Content-Type',_0x873a68(0x1fc));var _0x35aeec=_0x354b4f[_0x873a68(0x1df)](_0x354b4f[_0x873a68(0x200)]('/')+0x1);_0x282125[_0x873a68(0x1f0)]('Content-Disposition','attachment;filename=\x22'+_0x35aeec+'\x22');}else _0x282125[_0x873a68(0x1f0)](_0x873a68(0x20f),_0x873a68(0x20e));}}}}}}_0x282125[_0x873a68(0x1ff)](_0x2c1126);}}catch(_0x2764e8){_0x282125[_0x873a68(0x1ff)](_0x873a68(0x20b));if(config[_0x873a68(0x211)])console[_0x873a68(0x1ec)](_0x873a68(0x202)+_0x2764e8);}}router['get'](a17_0x53a104(0x1ef),function(_0x210a9a,_0x79571d){loadFile(_0x210a9a,_0x79571d);}),router[a17_0x53a104(0x21c)](a17_0x53a104(0x1ef),(_0x11bfcf,_0x342bb7)=>{loadFile(_0x11bfcf,_0x342bb7);}),module['exports']=router;