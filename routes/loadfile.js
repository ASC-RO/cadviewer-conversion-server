var a17_0x4b71b4=a17_0x1ea5;function a17_0x3bdf(){var _0x496916=['1:\x20/loadfile:\x20xx','file','image/jpeg','toLowerCase','png','application/json','json','setHeader','post','finshed\x20loading\x20','1908330gfzktM','../CADViewer_config.json','Access-Control-Allow-Headers','dwg','svg','ServerUrl','5iPrnjv','image/png','Access-Control-Allow-Origin','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','lastIndexOf','761702HqLCup','indexOf','merge','attachment;filename=\x22','934549EFZQta','floor','jpg','log','query','ServerLocation','error','1815207KJnzEs','Content-Disposition','readFileSync','http:','substring','ServerFrontEndUrl','2:\x20\x20/loadfile:\x20','length','1968831FteLiQ','application/dwg','X-Requested-With,content-type','branch\x203','loadtype','base64','Content-Type','\x20\x20\x20','branch\x202','text/plain','branch\x205','base64file','createWriteStream','Router','finish','error\x20-\x20loadfile','redline','2263216hfcxdc','replace','body','data:image/png;base64,','jpeg','/loadfile','cvjs_debug','image/gif','exports','/loadfile\x20-\x20error','\x20,\x20writing\x20to:\x20','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','16jUcrvd','https:','189357hYGkmJ','send','newcontenLocation\x20','replaceAll','gif','express','request','branch\x201','xx\x20\x20loadtype=\x20'];a17_0x3bdf=function(){return _0x496916;};return a17_0x3bdf();}(function(_0x4a032f,_0x17ddf2){var _0x26799c=a17_0x1ea5,_0x48bf90=_0x4a032f();while(!![]){try{var _0x595da4=parseInt(_0x26799c(0x122))/0x1+parseInt(_0x26799c(0xf0))/0x2+-parseInt(_0x26799c(0xfb))/0x3+parseInt(_0x26799c(0x114))/0x4+parseInt(_0x26799c(0xeb))/0x5*(parseInt(_0x26799c(0xe5))/0x6)+-parseInt(_0x26799c(0xf4))/0x7*(parseInt(_0x26799c(0x120))/0x8)+-parseInt(_0x26799c(0x103))/0x9;if(_0x595da4===_0x17ddf2)break;else _0x48bf90['push'](_0x48bf90['shift']());}catch(_0x41517f){_0x48bf90['push'](_0x48bf90['shift']());}}}(a17_0x3bdf,0x58ad9));var config=require(a17_0x4b71b4(0xe6)),cvjs_debug=config[a17_0x4b71b4(0x11a)];function a17_0x1ea5(_0x1c1dd0,_0x5d387a){var _0x3bdf08=a17_0x3bdf();return a17_0x1ea5=function(_0x1ea5be,_0x13d6c5){_0x1ea5be=_0x1ea5be-0xd6;var _0x26c819=_0x3bdf08[_0x1ea5be];return _0x26c819;},a17_0x1ea5(_0x1c1dd0,_0x5d387a);}const httprequest=require(a17_0x4b71b4(0xd8));var express=require(a17_0x4b71b4(0xd7)),router=express[a17_0x4b71b4(0x110)]();function loadFile(_0x3aa83a,_0x3e933b){var _0x54473e=a17_0x4b71b4;try{config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]?_0x3e933b[_0x54473e(0xe2)](_0x54473e(0xed),config['ServerFrontEndUrl']):_0x3e933b[_0x54473e(0xe2)](_0x54473e(0xed),'*');_0x3e933b[_0x54473e(0xe2)]('Access-Control-Allow-Methods',_0x54473e(0x11f)),_0x3e933b[_0x54473e(0xe2)](_0x54473e(0xe7),_0x54473e(0x105)),_0x3e933b[_0x54473e(0xe2)]('Access-Control-Allow-Credentials',!![]);var _0x10ec11=_0x3aa83a[_0x54473e(0x116)]['file'];_0x10ec11==undefined&&(_0x10ec11=_0x3aa83a[_0x54473e(0xf8)][_0x54473e(0xdc)]);var _0x496f07=_0x3aa83a[_0x54473e(0x116)][_0x54473e(0x107)];_0x496f07==undefined&&(_0x496f07=_0x3aa83a[_0x54473e(0xf8)][_0x54473e(0x107)]);_0x10ec11=decodeURI(_0x10ec11),_0x10ec11=_0x10ec11['replace'](/%3A/g,':'),_0x10ec11=_0x10ec11[_0x54473e(0x115)](/%2F/g,'/'),_0x10ec11=_0x10ec11[_0x54473e(0x115)](/%20/g,'\x20'),_0x10ec11=_0x10ec11[_0x54473e(0x125)]('+','\x20');if(config[_0x54473e(0x11a)])console[_0x54473e(0xf7)](_0x54473e(0xdb)+_0x10ec11+_0x54473e(0xda)+_0x496f07);if(config[_0x54473e(0x100)]!=''&&_0x10ec11[_0x54473e(0xf1)](config['ServerFrontEndUrl'])==0x0&&_0x10ec11[_0x54473e(0xf1)](config[_0x54473e(0xea)])!=0x0){if(config[_0x54473e(0x11a)])console[_0x54473e(0xf7)](_0x54473e(0xd9));_0x10ec11=config[_0x54473e(0xf9)]+_0x10ec11['substring'](config[_0x54473e(0x100)]['length']);}else{if(_0x10ec11['indexOf'](config[_0x54473e(0xea)])==0x0){if(config['cvjs_debug'])console[_0x54473e(0xf7)](_0x54473e(0x10b));_0x10ec11=config[_0x54473e(0xf9)]+_0x10ec11[_0x54473e(0xff)](config[_0x54473e(0xea)][_0x54473e(0x102)]);}else{if(_0x496f07!=undefined&&_0x496f07[_0x54473e(0xf1)]('base64file')==0x0||_0x496f07!=undefined&&_0x496f07[_0x54473e(0xf1)]('menufile')==0x0||_0x496f07!=undefined&&_0x496f07[_0x54473e(0xf1)]('languagefile')==0x0||_0x496f07!=undefined&&_0x496f07[_0x54473e(0xf1)](_0x54473e(0xf2))==0x0||_0x496f07!=undefined&&_0x496f07[_0x54473e(0xf1)](_0x54473e(0x113))==0x0){if(_0x10ec11[_0x54473e(0xf1)](_0x54473e(0xfe))==0x0||_0x10ec11['indexOf'](_0x54473e(0x121))==0x0){if(config['cvjs_debug'])console['log'](_0x54473e(0x106));}else{if(_0x10ec11['indexOf'](config[_0x54473e(0xf9)])==0x0){if(config[_0x54473e(0x11a)])console[_0x54473e(0xf7)]('branch\x204');}else{if(config['cvjs_debug'])console[_0x54473e(0xf7)](_0x54473e(0x10d));_0x10ec11=config['ServerLocation']+_0x10ec11;}}}}}if(config[_0x54473e(0x11a)])console[_0x54473e(0xf7)](_0x54473e(0x101)+_0x10ec11+_0x54473e(0x10a));var _0x26ec22=require('fs');if(_0x10ec11[_0x54473e(0xf1)]('http')==0x0){var _0x453705=Math[_0x54473e(0xf5)](Math['random']()*Math[_0x54473e(0xf5)](0xf4240)),_0x3e218b='F'+_0x453705,_0x4ee502=_0x10ec11[_0x54473e(0xff)](_0x10ec11[_0x54473e(0xef)]('.')+0x1),_0x170501=config['fileLocation']+_0x3e218b+'.'+_0x4ee502;if(cvjs_debug)console[_0x54473e(0xf7)](_0x54473e(0x124)+_0x170501);var _0x26ec22=require('fs');httprequest(_0x10ec11)['pipe'](_0x26ec22[_0x54473e(0x10f)](_0x170501))['on'](_0x54473e(0xfa),()=>{var _0x38561d=_0x54473e;console[_0x38561d(0xf7)](_0x38561d(0xee)+_0x10ec11),_0x3e933b['send'](_0x38561d(0x11d));})['on'](_0x54473e(0x111),()=>{var _0x5eba4b=_0x54473e;if(cvjs_debug)console[_0x5eba4b(0xf7)](_0x5eba4b(0xe4)+_0x10ec11+_0x5eba4b(0x11e)+_0x170501);var _0xb9e528;if(_0x4ee502[_0x5eba4b(0xde)]()[_0x5eba4b(0xf1)](_0x5eba4b(0xdf))==0x0&&_0x496f07==_0x5eba4b(0x10e))_0xb9e528=_0x26ec22['readFileSync'](_0x170501,{'encoding':_0x5eba4b(0x108)}),_0xb9e528=_0x5eba4b(0x117)+_0xb9e528;else _0xb9e528=_0x26ec22[_0x5eba4b(0xfd)](_0x170501);if(_0x4ee502[_0x5eba4b(0xf1)](_0x5eba4b(0xdf))==0x0)_0x3e933b[_0x5eba4b(0xe2)]('Content-Type',_0x5eba4b(0xec));else{if(_0x4ee502['indexOf'](_0x5eba4b(0xf6))==0x0)_0x3e933b['setHeader'](_0x5eba4b(0x109),_0x5eba4b(0xdd));else{if(_0x4ee502['indexOf'](_0x5eba4b(0x118))==0x0)_0x3e933b[_0x5eba4b(0xe2)]('Content-Type',_0x5eba4b(0xdd));else{if(_0x4ee502[_0x5eba4b(0xf1)](_0x5eba4b(0xd6))==0x0)_0x3e933b[_0x5eba4b(0xe2)](_0x5eba4b(0x109),_0x5eba4b(0x11b));else{if(_0x4ee502[_0x5eba4b(0xf1)](_0x5eba4b(0xe1))==0x0)_0x3e933b[_0x5eba4b(0xe2)](_0x5eba4b(0x109),_0x5eba4b(0xe0));else{if(_0x4ee502[_0x5eba4b(0xf1)](_0x5eba4b(0xe9))==0x0)_0x3e933b[_0x5eba4b(0xe2)](_0x5eba4b(0x109),'image/svg+xml');else{if(_0x4ee502[_0x5eba4b(0xf1)](_0x5eba4b(0xe8))==0x0){_0x3e933b[_0x5eba4b(0xe2)](_0x5eba4b(0x109),_0x5eba4b(0x104));var _0x25a2b7=_0x10ec11[_0x5eba4b(0xff)](_0x10ec11['lastIndexOf']('/')+0x1);_0x3e933b['setHeader'](_0x5eba4b(0xfc),_0x5eba4b(0xf3)+_0x25a2b7+'\x22');}else _0x3e933b[_0x5eba4b(0xe2)](_0x5eba4b(0x109),_0x5eba4b(0x10c));}}}}}}if(cvjs_debug)console[_0x5eba4b(0xf7)]('4:'+_0x4ee502);if(cvjs_debug)console[_0x5eba4b(0xf7)]('\x20reading\x20and\x20sending\x20data\x20png:'+(_0x4ee502['indexOf'](_0x5eba4b(0xdf))==0x0));_0x3e933b['send'](_0xb9e528);});}else{var _0x456bb4=_0x26ec22['readFileSync'](_0x10ec11),_0x4ee502=_0x10ec11['substring'](_0x10ec11[_0x54473e(0xef)]('.')+0x1);if(_0x4ee502['toLowerCase']()['indexOf'](_0x54473e(0xdf))==0x0&&_0x496f07==_0x54473e(0x10e))_0x456bb4=_0x26ec22[_0x54473e(0xfd)](_0x10ec11,{'encoding':_0x54473e(0x108)}),_0x456bb4=_0x54473e(0x117)+_0x456bb4;else _0x456bb4=_0x26ec22[_0x54473e(0xfd)](_0x10ec11);if(_0x4ee502[_0x54473e(0xf1)](_0x54473e(0xdf))==0x0)_0x3e933b['setHeader'](_0x54473e(0x109),'image/png');else{if(_0x4ee502[_0x54473e(0xf1)]('jpg')==0x0)_0x3e933b[_0x54473e(0xe2)](_0x54473e(0x109),_0x54473e(0xdd));else{if(_0x4ee502[_0x54473e(0xf1)](_0x54473e(0x118))==0x0)_0x3e933b[_0x54473e(0xe2)]('Content-Type',_0x54473e(0xdd));else{if(_0x4ee502[_0x54473e(0xf1)](_0x54473e(0xd6))==0x0)_0x3e933b[_0x54473e(0xe2)](_0x54473e(0x109),_0x54473e(0x11b));else{if(_0x4ee502[_0x54473e(0xf1)]('json')==0x0)_0x3e933b[_0x54473e(0xe2)](_0x54473e(0x109),_0x54473e(0xe0));else{if(_0x4ee502['indexOf'](_0x54473e(0xe9))==0x0)_0x3e933b[_0x54473e(0xe2)](_0x54473e(0x109),'image/svg+xml');else{if(_0x4ee502[_0x54473e(0xf1)]('dwg')==0x0){_0x3e933b['setHeader']('Content-Type',_0x54473e(0x104));var _0x3928be=_0x10ec11[_0x54473e(0xff)](_0x10ec11[_0x54473e(0xef)]('/')+0x1);_0x3e933b['setHeader'](_0x54473e(0xfc),'attachment;filename=\x22'+_0x3928be+'\x22');}else _0x3e933b['setHeader'](_0x54473e(0x109),_0x54473e(0x10c));}}}}}}_0x3e933b[_0x54473e(0x123)](_0x456bb4);}}catch(_0x2715d0){_0x3e933b['send'](_0x54473e(0x112));if(config[_0x54473e(0x11a)])console[_0x54473e(0xf7)]('Error\x20loadfile:'+_0x2715d0);}}router['get']('/loadfile',function(_0x295fa6,_0x3cfa50){loadFile(_0x295fa6,_0x3cfa50);}),router[a17_0x4b71b4(0xe3)](a17_0x4b71b4(0x119),(_0x12355d,_0x67b203)=>{loadFile(_0x12355d,_0x67b203);}),module[a17_0x4b71b4(0x11c)]=router;