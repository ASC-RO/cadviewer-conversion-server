var a17_0x44dff9=a17_0x51c3;function a17_0x51c3(_0x31c0ad,_0x7d36c4){var _0x20c60a=a17_0x20c6();return a17_0x51c3=function(_0x51c39f,_0x13cd84){_0x51c39f=_0x51c39f-0xc3;var _0x18c6a0=_0x20c60a[_0x51c39f];return _0x18c6a0;},a17_0x51c3(_0x31c0ad,_0x7d36c4);}(function(_0x162825,_0x3370be){var _0x4d5d79=a17_0x51c3,_0x46e809=_0x162825();while(!![]){try{var _0x1fb041=-parseInt(_0x4d5d79(0x10e))/0x1+-parseInt(_0x4d5d79(0x104))/0x2*(-parseInt(_0x4d5d79(0x110))/0x3)+-parseInt(_0x4d5d79(0xe6))/0x4+-parseInt(_0x4d5d79(0xf7))/0x5+-parseInt(_0x4d5d79(0xd3))/0x6*(parseInt(_0x4d5d79(0xd2))/0x7)+parseInt(_0x4d5d79(0xe7))/0x8*(parseInt(_0x4d5d79(0xd9))/0x9)+parseInt(_0x4d5d79(0xea))/0xa*(parseInt(_0x4d5d79(0xee))/0xb);if(_0x1fb041===_0x3370be)break;else _0x46e809['push'](_0x46e809['shift']());}catch(_0x1133a3){_0x46e809['push'](_0x46e809['shift']());}}}(a17_0x20c6,0x379cd));var config=require(a17_0x44dff9(0x114)),cvjs_debug=config[a17_0x44dff9(0x10d)];const httprequest=require('request');var express=require(a17_0x44dff9(0xc7)),router=express['Router']();function loadFile(_0x351442,_0x3d0bc0){var _0x2b9702=a17_0x44dff9;try{config[_0x2b9702(0xfd)]==!![]?_0x3d0bc0[_0x2b9702(0xd4)]('Access-Control-Allow-Origin',config[_0x2b9702(0xfa)]):_0x3d0bc0[_0x2b9702(0xd4)]('Access-Control-Allow-Origin','*');_0x3d0bc0[_0x2b9702(0xd4)](_0x2b9702(0x10c),_0x2b9702(0xc8)),_0x3d0bc0[_0x2b9702(0xd4)](_0x2b9702(0xc5),_0x2b9702(0xe2)),_0x3d0bc0[_0x2b9702(0xd4)](_0x2b9702(0xef),!![]);var _0x4d422f=_0x351442[_0x2b9702(0xce)][_0x2b9702(0xe9)];_0x4d422f==undefined&&(_0x4d422f=_0x351442[_0x2b9702(0x10b)][_0x2b9702(0xe9)]);var _0x1e0f63=_0x351442[_0x2b9702(0xce)][_0x2b9702(0xda)];_0x1e0f63==undefined&&(_0x1e0f63=_0x351442[_0x2b9702(0x10b)][_0x2b9702(0xda)]);_0x4d422f=decodeURI(_0x4d422f),_0x4d422f=_0x4d422f[_0x2b9702(0xeb)](/%3A/g,':'),_0x4d422f=_0x4d422f[_0x2b9702(0xeb)](/%2F/g,'/'),_0x4d422f=_0x4d422f[_0x2b9702(0xeb)](/%20/g,'\x20'),_0x4d422f=_0x4d422f[_0x2b9702(0xf2)]('+','\x20');if(config[_0x2b9702(0x10d)])console[_0x2b9702(0xdf)](_0x2b9702(0xf1)+_0x4d422f+_0x2b9702(0xf5)+_0x1e0f63);if(config[_0x2b9702(0xfa)]!=''&&_0x4d422f[_0x2b9702(0x111)](config['ServerFrontEndUrl'])==0x0&&_0x4d422f[_0x2b9702(0x111)](config[_0x2b9702(0xd7)])!=0x0){if(config[_0x2b9702(0x10d)])console[_0x2b9702(0xdf)]('branch\x201');_0x4d422f=config['ServerLocation']+_0x4d422f[_0x2b9702(0x106)](config[_0x2b9702(0xfa)][_0x2b9702(0xf4)]);}else{if(_0x4d422f['indexOf'](config[_0x2b9702(0xd7)])==0x0){if(config[_0x2b9702(0x10d)])console['log'](_0x2b9702(0xc4));_0x4d422f=config['ServerLocation']+_0x4d422f[_0x2b9702(0x106)](config['ServerUrl']['length']);}else{if(_0x1e0f63!=undefined&&_0x1e0f63['indexOf'](_0x2b9702(0xf9))==0x0||_0x1e0f63!=undefined&&_0x1e0f63[_0x2b9702(0x111)](_0x2b9702(0xe5))==0x0||_0x1e0f63!=undefined&&_0x1e0f63['indexOf'](_0x2b9702(0x113))==0x0||_0x1e0f63!=undefined&&_0x1e0f63['indexOf'](_0x2b9702(0xe4))==0x0||_0x1e0f63!=undefined&&_0x1e0f63[_0x2b9702(0x111)](_0x2b9702(0xf8))==0x0){if(_0x4d422f[_0x2b9702(0x111)](_0x2b9702(0x109))==0x0||_0x4d422f[_0x2b9702(0x111)]('https:')==0x0){if(config[_0x2b9702(0x10d)])console[_0x2b9702(0xdf)]('branch\x203');}else{if(_0x4d422f[_0x2b9702(0x111)](config[_0x2b9702(0xe1)])==0x0){if(config[_0x2b9702(0x10d)])console[_0x2b9702(0xdf)](_0x2b9702(0xd1));}else{if(config['cvjs_debug'])console[_0x2b9702(0xdf)]('branch\x205');_0x4d422f=config['ServerLocation']+_0x4d422f;}}}}}if(config[_0x2b9702(0x10d)])console['log'](_0x2b9702(0xe8)+_0x4d422f+_0x2b9702(0xd0));var _0x1e6379=require('fs');if(_0x4d422f[_0x2b9702(0x111)](_0x2b9702(0xcb))==0x0){var _0x5e05a9=Math[_0x2b9702(0xdc)](Math[_0x2b9702(0xca)]()*Math[_0x2b9702(0xdc)](0xf4240)),_0x1051b9='F'+_0x5e05a9,_0x11e467=_0x4d422f['substring'](_0x4d422f[_0x2b9702(0xf3)]('.')+0x1),_0x39bc6d=config['fileLocation']+_0x1051b9+'.'+_0x11e467;if(cvjs_debug)console[_0x2b9702(0xdf)](_0x2b9702(0x112)+_0x39bc6d);var _0x1e6379=require('fs');httprequest(_0x4d422f)['pipe'](_0x1e6379[_0x2b9702(0x108)](_0x39bc6d))['on'](_0x2b9702(0xfb),()=>{var _0x2c8997=_0x2b9702;console[_0x2c8997(0xdf)](_0x2c8997(0xdd)+_0x4d422f),_0x3d0bc0[_0x2c8997(0x101)](_0x2c8997(0x105));})['on']('finish',()=>{var _0x134ae7=_0x2b9702;if(cvjs_debug)console['log'](_0x134ae7(0x10a)+_0x4d422f+_0x134ae7(0xdb)+_0x39bc6d);var _0x33d51d;if(_0x11e467[_0x134ae7(0xe0)]()[_0x134ae7(0x111)]('png')==0x0&&_0x1e0f63==_0x134ae7(0xf9))_0x33d51d=_0x1e6379['readFileSync'](_0x39bc6d,{'encoding':_0x134ae7(0xcd)}),_0x33d51d=_0x134ae7(0xfc)+_0x33d51d;else _0x33d51d=_0x1e6379[_0x134ae7(0xd8)](_0x39bc6d);if(_0x11e467['indexOf'](_0x134ae7(0xec))==0x0)_0x3d0bc0[_0x134ae7(0xd4)](_0x134ae7(0xd6),_0x134ae7(0x107));else{if(_0x11e467[_0x134ae7(0x111)](_0x134ae7(0xcc))==0x0)_0x3d0bc0['setHeader'](_0x134ae7(0xd6),_0x134ae7(0x103));else{if(_0x11e467[_0x134ae7(0x111)](_0x134ae7(0xf6))==0x0)_0x3d0bc0[_0x134ae7(0xd4)]('Content-Type',_0x134ae7(0x103));else{if(_0x11e467[_0x134ae7(0x111)](_0x134ae7(0xc6))==0x0)_0x3d0bc0['setHeader'](_0x134ae7(0xd6),'image/gif');else{if(_0x11e467['indexOf']('json')==0x0)_0x3d0bc0[_0x134ae7(0xd4)](_0x134ae7(0xd6),_0x134ae7(0x10f));else{if(_0x11e467[_0x134ae7(0x111)](_0x134ae7(0xcf))==0x0)_0x3d0bc0['setHeader'](_0x134ae7(0xd6),'image/svg+xml');else{if(_0x11e467[_0x134ae7(0x111)](_0x134ae7(0xe3))==0x0){_0x3d0bc0[_0x134ae7(0xd4)](_0x134ae7(0xd6),_0x134ae7(0xde));var _0x9932a7=_0x4d422f[_0x134ae7(0x106)](_0x4d422f[_0x134ae7(0xf3)]('/')+0x1);_0x3d0bc0[_0x134ae7(0xd4)](_0x134ae7(0x102),'attachment;filename=\x22'+_0x9932a7+'\x22');}else _0x3d0bc0['setHeader'](_0x134ae7(0xd6),_0x134ae7(0xc9));}}}}}}if(cvjs_debug)console['log']('4:'+_0x11e467);if(cvjs_debug)console[_0x134ae7(0xdf)]('\x20reading\x20and\x20sending\x20data\x20png:'+(_0x11e467[_0x134ae7(0x111)]('png')==0x0));_0x3d0bc0[_0x134ae7(0x101)](_0x33d51d);});}else{var _0x5ef376=_0x1e6379[_0x2b9702(0xd8)](_0x4d422f),_0x11e467=_0x4d422f[_0x2b9702(0x106)](_0x4d422f['lastIndexOf']('.')+0x1);if(_0x11e467['toLowerCase']()[_0x2b9702(0x111)](_0x2b9702(0xec))==0x0&&_0x1e0f63==_0x2b9702(0xf9))_0x5ef376=_0x1e6379[_0x2b9702(0xd8)](_0x4d422f,{'encoding':_0x2b9702(0xcd)}),_0x5ef376=_0x2b9702(0xfc)+_0x5ef376;else _0x5ef376=_0x1e6379['readFileSync'](_0x4d422f);if(_0x11e467['indexOf'](_0x2b9702(0xec))==0x0)_0x3d0bc0[_0x2b9702(0xd4)](_0x2b9702(0xd6),_0x2b9702(0x107));else{if(_0x11e467[_0x2b9702(0x111)](_0x2b9702(0xcc))==0x0)_0x3d0bc0[_0x2b9702(0xd4)](_0x2b9702(0xd6),_0x2b9702(0x103));else{if(_0x11e467[_0x2b9702(0x111)](_0x2b9702(0xf6))==0x0)_0x3d0bc0[_0x2b9702(0xd4)](_0x2b9702(0xd6),_0x2b9702(0x103));else{if(_0x11e467[_0x2b9702(0x111)](_0x2b9702(0xc6))==0x0)_0x3d0bc0[_0x2b9702(0xd4)](_0x2b9702(0xd6),'image/gif');else{if(_0x11e467['indexOf'](_0x2b9702(0x100))==0x0)_0x3d0bc0['setHeader']('Content-Type',_0x2b9702(0x10f));else{if(_0x11e467[_0x2b9702(0x111)](_0x2b9702(0xcf))==0x0)_0x3d0bc0[_0x2b9702(0xd4)](_0x2b9702(0xd6),'image/svg+xml');else{if(_0x11e467[_0x2b9702(0x111)](_0x2b9702(0xe3))==0x0){_0x3d0bc0[_0x2b9702(0xd4)](_0x2b9702(0xd6),_0x2b9702(0xde));var _0x1ce945=_0x4d422f[_0x2b9702(0x106)](_0x4d422f[_0x2b9702(0xf3)]('/')+0x1);_0x3d0bc0[_0x2b9702(0xd4)](_0x2b9702(0x102),_0x2b9702(0xc3)+_0x1ce945+'\x22');}else _0x3d0bc0['setHeader']('Content-Type',_0x2b9702(0xc9));}}}}}}_0x3d0bc0[_0x2b9702(0x101)](_0x5ef376);}}catch(_0x1135ef){_0x3d0bc0[_0x2b9702(0x101)](_0x2b9702(0xfe));if(config[_0x2b9702(0x10d)])console[_0x2b9702(0xdf)](_0x2b9702(0xf0)+_0x1135ef);}}function a17_0x20c6(){var _0x5118a9=['X-Requested-With,content-type','dwg','merge','menufile','1424704GuMuUl','16KNnKDn','2:\x20\x20/loadfile:\x20','file','92780iLyMuv','replace','png','/loadfile','1342kQhVou','Access-Control-Allow-Credentials','Error\x20loadfile:','1:\x20/loadfile:\x20xx','replaceAll','lastIndexOf','length','xx\x20\x20loadtype=\x20','jpeg','1016955vVsriH','redline','base64file','ServerFrontEndUrl','error','data:image/png;base64,','ServerFrontEndUrlAsAllowedOriginOnly','error\x20-\x20loadfile','post','json','send','Content-Disposition','image/jpeg','294QLoffq','/loadfile\x20-\x20error','substring','image/png','createWriteStream','http:','finshed\x20loading\x20','query','Access-Control-Allow-Methods','cvjs_debug','429549khuYLo','application/json','402evSqma','indexOf','newcontenLocation\x20','languagefile','../CADViewer_config.json','attachment;filename=\x22','branch\x202','Access-Control-Allow-Headers','gif','express','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','text/plain','random','http','jpg','base64','body','svg','\x20\x20\x20','branch\x204','133YnnLSv','66942Gdcuhm','setHeader','exports','Content-Type','ServerUrl','readFileSync','1247733EVdjzU','loadtype','\x20,\x20writing\x20to:\x20','floor','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','application/dwg','log','toLowerCase','ServerLocation'];a17_0x20c6=function(){return _0x5118a9;};return a17_0x20c6();}router['get'](a17_0x44dff9(0xed),function(_0xe9dd0e,_0x46bc70){loadFile(_0xe9dd0e,_0x46bc70);}),router[a17_0x44dff9(0xff)](a17_0x44dff9(0xed),(_0x396fbf,_0x50a9d0)=>{loadFile(_0x396fbf,_0x50a9d0);}),module[a17_0x44dff9(0xd5)]=router;