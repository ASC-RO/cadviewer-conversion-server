var a26_0x2e1017=a26_0x40a0;(function(_0x2fa59d,_0x5d251f){var _0x31ee32=a26_0x40a0,_0x2db66e=_0x2fa59d();while(!![]){try{var _0x4e313d=parseInt(_0x31ee32(0x19e))/0x1+-parseInt(_0x31ee32(0x18f))/0x2*(parseInt(_0x31ee32(0x192))/0x3)+parseInt(_0x31ee32(0x18a))/0x4*(-parseInt(_0x31ee32(0x199))/0x5)+-parseInt(_0x31ee32(0x18e))/0x6+-parseInt(_0x31ee32(0x186))/0x7+parseInt(_0x31ee32(0x183))/0x8+-parseInt(_0x31ee32(0x18b))/0x9*(-parseInt(_0x31ee32(0x1a0))/0xa);if(_0x4e313d===_0x5d251f)break;else _0x2db66e['push'](_0x2db66e['shift']());}catch(_0x5a6212){_0x2db66e['push'](_0x2db66e['shift']());}}}(a26_0x42b2,0xc80b8));var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'],express=require(a26_0x2e1017(0x18d)),router=express[a26_0x2e1017(0x180)]();function a26_0x42b2(){var _0x24cacd=['36430IuyImo','mkdirSync','listtype','/saveredline','\x20config.ServerUrl:','1038651pGvzEj','ServerFrontEndUrl','1829330thVFsm','setHeader','substring','path','send','\x20\x20\x20\x20config.ServerFrontEndUrl:','file\x20written','ServerUrl','3:\x20saveredline\x20\x20','Access-Control-Allow-Origin','body','replace','close','1:\x20saveredline\x20\x20','Router','from','cvjs_debug','6286568TuWVNR','dirname','post','9760240TUWdJN','log','ServerLocation','open','644jmJLsI','207sMnmfR','ServerFrontEndUrlAsAllowedOriginOnly','express','8201286YomAMk','51132zRlyzn','join','exports','150IEEsIl','save\x20redline\x20listtype:','length','filename:','error\x20saveredlines:\x20','Succes','indexOf'];a26_0x42b2=function(){return _0x24cacd;};return a26_0x42b2();}const fs=require('fs'),path=require(a26_0x2e1017(0x1a3));function a26_0x40a0(_0xb143d5,_0x3f59e1){var _0x42b2ec=a26_0x42b2();return a26_0x40a0=function(_0x40a05a,_0x465773){_0x40a05a=_0x40a05a-0x177;var _0x53bde9=_0x42b2ec[_0x40a05a];return _0x53bde9;},a26_0x40a0(_0xb143d5,_0x3f59e1);}function createDirRecursively(_0xde5226){var _0x27f193=a26_0x2e1017;!fs['existsSync'](_0xde5226)&&(createDirRecursively(path[_0x27f193(0x190)](_0xde5226,'..')),fs[_0x27f193(0x19a)](_0xde5226));}router[a26_0x2e1017(0x185)](a26_0x2e1017(0x19c),(_0x249300,_0x3fd0a2)=>{var _0x5b76ee=a26_0x2e1017;if(config[_0x5b76ee(0x18c)]==!![]){_0x3fd0a2[_0x5b76ee(0x1a1)](_0x5b76ee(0x17b),config[_0x5b76ee(0x19f)]);if(cvjs_debug)console[_0x5b76ee(0x187)]('Access-Control-Allow-Origin\x20:'+config[_0x5b76ee(0x19f)]);}else{_0x3fd0a2[_0x5b76ee(0x1a1)](_0x5b76ee(0x17b),'*');if(cvjs_debug)console[_0x5b76ee(0x187)]('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x306edf=_0x249300['body']['file'],_0x841f77=_0x249300[_0x5b76ee(0x17c)]['file_content'],_0x13db54=Buffer[_0x5b76ee(0x181)](_0x841f77),_0x21641f=_0x249300[_0x5b76ee(0x17c)][_0x5b76ee(0x19b)];if(cvjs_debug)console[_0x5b76ee(0x187)](_0x5b76ee(0x193)+_0x21641f);if(_0x21641f=='serverfolder'||_0x21641f=='redline'){if(_0x306edf[_0x5b76ee(0x198)](config['ServerLocation'])==0x0){}else _0x306edf=config[_0x5b76ee(0x188)]+_0x306edf;}if(cvjs_debug)console[_0x5b76ee(0x187)](_0x5b76ee(0x195)+_0x306edf);var _0x1f4a85=require('fs');if(config[_0x5b76ee(0x182)])console['log'](_0x5b76ee(0x17f)+_0x306edf);_0x306edf=decodeURI(_0x306edf),_0x306edf=_0x306edf['replace'](/%3A/g,':'),_0x306edf=_0x306edf['replace'](/%2F/g,'/'),_0x306edf=_0x306edf[_0x5b76ee(0x17d)](/%20/g,'\x20'),_0x306edf=_0x306edf['replaceAll']('+','\x20');if(config[_0x5b76ee(0x182)])console[_0x5b76ee(0x187)]('2:\x20saveredline\x20\x20'+_0x306edf+_0x5b76ee(0x177)+config['ServerFrontEndUrl']+_0x5b76ee(0x19d)+config[_0x5b76ee(0x179)]);if(config[_0x5b76ee(0x19f)]!=''&&_0x306edf['indexOf'](config['ServerFrontEndUrl'])==0x0){if(config[_0x5b76ee(0x182)])console[_0x5b76ee(0x187)]('4:');_0x306edf=config[_0x5b76ee(0x188)]+_0x306edf[_0x5b76ee(0x1a2)](config[_0x5b76ee(0x19f)]['length']);}else{if(config['ServerUrl']!=''&&_0x306edf[_0x5b76ee(0x198)](config[_0x5b76ee(0x179)])==0x0){if(config[_0x5b76ee(0x182)])console[_0x5b76ee(0x187)]('5:');_0x306edf=config[_0x5b76ee(0x188)]+_0x306edf[_0x5b76ee(0x1a2)](config[_0x5b76ee(0x179)][_0x5b76ee(0x194)]);}}_0x306edf=_0x306edf[_0x5b76ee(0x17d)](/\\/g,'/');if(config[_0x5b76ee(0x182)])console[_0x5b76ee(0x187)](_0x5b76ee(0x17a)+_0x306edf);var _0x20dee5=path[_0x5b76ee(0x184)](_0x306edf);createDirRecursively(_0x20dee5),_0x1f4a85[_0x5b76ee(0x189)](_0x306edf,'w',function(_0x7d2808,_0x5d927a){var _0x29b38d=_0x5b76ee;_0x1f4a85['write'](_0x5d927a,_0x13db54,0x0,_0x13db54[_0x29b38d(0x194)],null,function(_0x132394){var _0xa42231=_0x29b38d;if(_0x132394){if(config[_0xa42231(0x182)])console[_0xa42231(0x187)](_0xa42231(0x196)+_0x132394);_0x3fd0a2[_0xa42231(0x1a4)]('error\x20saveredlines:\x20'+_0x132394);}else _0x1f4a85[_0xa42231(0x17e)](_0x5d927a,function(){var _0x5f0388=_0xa42231;if(config[_0x5f0388(0x182)])console[_0x5f0388(0x187)](_0x5f0388(0x178));_0x3fd0a2[_0x5f0388(0x1a4)](_0x5f0388(0x197));});});});}catch(_0x123232){_0x3fd0a2[_0x5b76ee(0x1a4)]('error\x20-\x20saveredline');if(config[_0x5b76ee(0x182)])console[_0x5b76ee(0x187)](_0x123232);}}),module[a26_0x2e1017(0x191)]=router;