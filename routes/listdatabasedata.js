const a13_0x353464=a13_0x1be8;function a13_0x117e(){const _0x9971f=['org2_id','93907tLTNLx','log','2012361OUnijq','DB\x20/employees\x20error','exports','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','../libs/mysql.js','/photos/:room_id','get','room_id','send','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','phone','created_at','/photos/','push','hex','floor_id','image_file_size','employeeName','Router','4661250eAkWZp','color_id','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','image_updated_at','promise','length','express','split','372516NVdkmU','query','updated_at','SELECT\x20id,\x20hex\x20FROM\x20colors','path','/original/','1015068udjCQA','251460gAoRoJ','name','DB\x20/org2s\x20error','image_file_name','../CADViewer_config.json','9325064tOhpsE','params'];a13_0x117e=function(){return _0x9971f;};return a13_0x117e();}(function(_0x1623ce,_0x133db3){const _0x22ee6e=a13_0x1be8,_0x2d7a79=_0x1623ce();while(!![]){try{const _0x525205=parseInt(_0x22ee6e(0xfb))/0x1+parseInt(_0x22ee6e(0xf2))/0x2+-parseInt(_0x22ee6e(0xfd))/0x3+-parseInt(_0x22ee6e(0xec))/0x4+parseInt(_0x22ee6e(0xf3))/0x5+-parseInt(_0x22ee6e(0xe4))/0x6+parseInt(_0x22ee6e(0xf8))/0x7;if(_0x525205===_0x133db3)break;else _0x2d7a79['push'](_0x2d7a79['shift']());}catch(_0x483b1d){_0x2d7a79['push'](_0x2d7a79['shift']());}}}(a13_0x117e,0x6c2d6));const fs=require('fs'),path=require(a13_0x353464(0xf0)),config=require(a13_0x353464(0xf7)),conn=require(a13_0x353464(0xd5)),express=require(a13_0x353464(0xea)),router=express[a13_0x353464(0xe3)]();function a13_0x1be8(_0x10d8f7,_0x5063b9){const _0x117eb6=a13_0x117e();return a13_0x1be8=function(_0x1be8ce,_0x3d2a9e){_0x1be8ce=_0x1be8ce-0xd2;let _0x3e089e=_0x117eb6[_0x1be8ce];return _0x3e089e;},a13_0x1be8(_0x10d8f7,_0x5063b9);}router[a13_0x353464(0xd7)](a13_0x353464(0xd6),async(_0x17e31a,_0x55ccc9)=>{const _0x481275=a13_0x353464;try{const _0x19032a=_0x17e31a[_0x481275(0xf9)][_0x481275(0xd8)],_0x4725df=_0x481275(0xd4)+_0x19032a,_0x1bdc00=[],[_0x417495]=await conn[_0x481275(0xe8)]()[_0x481275(0xed)](_0x4725df);for(let _0x59cd6a=0x0;_0x59cd6a<_0x417495[_0x481275(0xe9)];_0x59cd6a++){const _0x328eff=_0x417495[_0x59cd6a];_0x1bdc00[_0x481275(0xde)]({'id':_0x328eff['id'],'image_file_name':_0x481275(0xdd)+_0x328eff['id']+_0x481275(0xf1)+_0x328eff[_0x481275(0xf6)],'image_content_type':_0x328eff['image_content_type'],'image_file_size':_0x328eff[_0x481275(0xe1)],'image_updated_at':_0x328eff[_0x481275(0xe7)],'created_at':_0x328eff[_0x481275(0xdc)],'updated_at':_0x328eff[_0x481275(0xee)]});}_0x55ccc9[_0x481275(0xd9)](_0x1bdc00);}catch(_0x4425bb){console[_0x481275(0xfc)](_0x4425bb),_0x55ccc9['send']([]);}}),router['get']('/org2s',async(_0x18edc9,_0x1a2cdf)=>{const _0x37eddb=a13_0x353464;try{const _0x289c50=_0x37eddb(0xe6),_0x3b6efb=_0x37eddb(0xda),_0x581a64=_0x37eddb(0xef),_0x554266=[],_0x35f481={},_0x4dcd44={},[_0x33a1ca]=await conn[_0x37eddb(0xe8)]()[_0x37eddb(0xed)](_0x581a64);for(let _0x5ef3b3=0x0;_0x5ef3b3<_0x33a1ca[_0x37eddb(0xe9)];_0x5ef3b3++){const _0x10b220=_0x33a1ca[_0x5ef3b3];_0x4dcd44[_0x10b220['id']]={'id':_0x10b220['id'],'hex':'#'+_0x10b220[_0x37eddb(0xdf)]};}const [_0x301caf]=conn['promise']()[_0x37eddb(0xed)](_0x3b6efb);for(let _0x2ecbdd=0x0;_0x2ecbdd<_0x301caf[_0x37eddb(0xe9)];_0x2ecbdd++){const _0x10815f=_0x301caf[_0x2ecbdd];_0x35f481[_0x10815f['id']]={'id':_0x10815f['id'],'name':_0x10815f[_0x37eddb(0xf4)],'color_id':_0x10815f[_0x37eddb(0xe5)],'color':_0x4dcd44[_0x10815f[_0x37eddb(0xe5)]]['hex']};}return _0x1a2cdf[_0x37eddb(0xd9)](_0x35f481);}catch(_0x368b28){console['log'](_0x37eddb(0xf5)+_0x368b28),_0x1a2cdf[_0x37eddb(0xd9)]('[]');}}),router[a13_0x353464(0xd7)]('/employees',async(_0x4dccd6,_0x58789e)=>{const _0x547f85=a13_0x353464;try{const _0x356d31=_0x547f85(0xe6),_0x2bd4ee=_0x547f85(0xda),_0x39525e=_0x547f85(0xef),_0x175455=[],_0x2d34a6={},_0x233e6b={};let [_0x2d5dc9]=await conn[_0x547f85(0xe8)]()['query'](_0x39525e);for(let _0x5e1841=0x0;_0x5e1841<_0x2d5dc9[_0x547f85(0xe9)];_0x5e1841++){const _0x1ba582=_0x2d5dc9[_0x5e1841];_0x233e6b[_0x1ba582['id']]={'id':_0x1ba582['id'],'hex':'#'+_0x1ba582['hex']};}console[_0x547f85(0xfc)]({'colors':_0x233e6b});const [_0x3cd950]=await conn[_0x547f85(0xe8)]()[_0x547f85(0xed)](_0x2bd4ee);for(let _0x5a345b=0x0;_0x5a345b<_0x3cd950[_0x547f85(0xe9)];_0x5a345b++){const _0x47b1b8=_0x3cd950[_0x5a345b];_0x2d34a6[_0x47b1b8['id']]={'id':_0x47b1b8['id'],'name':_0x47b1b8[_0x547f85(0xf4)],'color_id':_0x47b1b8[_0x547f85(0xe5)],'color':_0x233e6b[_0x47b1b8[_0x547f85(0xe5)]]['hex']};}const [_0x10321b]=await conn[_0x547f85(0xe8)]()[_0x547f85(0xed)](_0x356d31);for(let _0x2373bc=0x0;_0x2373bc<_0x10321b['length'];_0x2373bc++){const _0x2e2eb0=_0x10321b[_0x2373bc];_0x175455[_0x547f85(0xde)]({'id':_0x2e2eb0['id'],'room_id':_0x2e2eb0[_0x547f85(0xd8)],'employee_number':_0x2e2eb0['employee_number'],'phone':_0x2e2eb0[_0x547f85(0xdb)],'floor_id':_0x2e2eb0[_0x547f85(0xe0)],'org2_id':_0x2e2eb0['org2_id'],'firstname':_0x2e2eb0[_0x547f85(0xe2)][_0x547f85(0xeb)]('\x20')[0x0],'lastname':_0x2e2eb0['employeeName'][_0x547f85(0xeb)]('\x20')[0x1],'employeeName':_0x2e2eb0[_0x547f85(0xe2)],'department':_0x2d34a6[_0x2e2eb0[_0x547f85(0xfa)]]});}_0x58789e[_0x547f85(0xd9)](_0x175455);}catch(_0x409c90){console[_0x547f85(0xfc)](_0x547f85(0xd2)+_0x409c90),_0x58789e['send']('[]');}}),module[a13_0x353464(0xd3)]=router;