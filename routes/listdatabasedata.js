const a13_0x5c24a0=a13_0xbf4a;function a13_0xbf4a(_0x4cf4fe,_0x16ad87){const _0x5c3c59=a13_0x5c3c();return a13_0xbf4a=function(_0xbf4aef,_0x5bb404){_0xbf4aef=_0xbf4aef-0x10f;let _0x2f8d1e=_0x5c3c59[_0xbf4aef];return _0x2f8d1e;},a13_0xbf4a(_0x4cf4fe,_0x16ad87);}(function(_0x1fe532,_0x2c2676){const _0x363141=a13_0xbf4a,_0x52b717=_0x1fe532();while(!![]){try{const _0x8a7ff9=parseInt(_0x363141(0x11e))/0x1+-parseInt(_0x363141(0x126))/0x2+parseInt(_0x363141(0x125))/0x3*(parseInt(_0x363141(0x114))/0x4)+-parseInt(_0x363141(0x11a))/0x5+parseInt(_0x363141(0x110))/0x6+-parseInt(_0x363141(0x12d))/0x7*(-parseInt(_0x363141(0x11b))/0x8)+parseInt(_0x363141(0x136))/0x9;if(_0x8a7ff9===_0x2c2676)break;else _0x52b717['push'](_0x52b717['shift']());}catch(_0x1366f4){_0x52b717['push'](_0x52b717['shift']());}}}(a13_0x5c3c,0x7de83));const fs=require('fs'),path=require(a13_0x5c24a0(0x132)),config=require(a13_0x5c24a0(0x12f)),conn=require('../libs/mysql.js'),express=require(a13_0x5c24a0(0x127)),router=express[a13_0x5c24a0(0x129)]();router[a13_0x5c24a0(0x117)](a13_0x5c24a0(0x137),async(_0x3c6744,_0x5c8791)=>{const _0x1790f2=a13_0x5c24a0;try{const _0x1a02d0=_0x3c6744[_0x1790f2(0x123)]['room_id'],_0x147a08=_0x1790f2(0x10f)+_0x1a02d0,_0x74dd6e=[],[_0x2eecf9]=await conn[_0x1790f2(0x12b)]()[_0x1790f2(0x120)](_0x147a08);for(let _0x3209e4=0x0;_0x3209e4<_0x2eecf9[_0x1790f2(0x138)];_0x3209e4++){const _0x543271=_0x2eecf9[_0x3209e4];_0x74dd6e[_0x1790f2(0x119)]({'id':_0x543271['id'],'image_file_name':'/photos/'+_0x543271['id']+_0x1790f2(0x124)+_0x543271['image_file_name'],'image_content_type':_0x543271[_0x1790f2(0x135)],'image_file_size':_0x543271['image_file_size'],'image_updated_at':_0x543271[_0x1790f2(0x113)],'created_at':_0x543271[_0x1790f2(0x139)],'updated_at':_0x543271[_0x1790f2(0x112)]});}_0x5c8791[_0x1790f2(0x11d)](_0x74dd6e);}catch(_0x19249b){console['log'](_0x19249b),_0x5c8791[_0x1790f2(0x11d)]([]);}}),router[a13_0x5c24a0(0x117)](a13_0x5c24a0(0x116),async(_0x4dc012,_0x537360)=>{const _0x5de304=a13_0x5c24a0;try{const _0x469a4a=_0x5de304(0x11c),_0x7fe4a0=_0x5de304(0x122),_0x55a96e=_0x5de304(0x111),_0x23c60a=[],_0x18ba53={},_0x1e8b90={},[_0x547fb9]=await conn[_0x5de304(0x12b)]()[_0x5de304(0x120)](_0x55a96e);for(let _0x436c40=0x0;_0x436c40<_0x547fb9['length'];_0x436c40++){const _0x57b15c=_0x547fb9[_0x436c40];_0x1e8b90[_0x57b15c['id']]={'id':_0x57b15c['id'],'hex':'#'+_0x57b15c['hex']};}const [_0x58fed1]=conn[_0x5de304(0x12b)]()[_0x5de304(0x120)](_0x7fe4a0);for(let _0x4b8e54=0x0;_0x4b8e54<_0x58fed1['length'];_0x4b8e54++){const _0x10729e=_0x58fed1[_0x4b8e54];_0x18ba53[_0x10729e['id']]={'id':_0x10729e['id'],'name':_0x10729e[_0x5de304(0x12c)],'color_id':_0x10729e[_0x5de304(0x131)],'color':_0x1e8b90[_0x10729e['color_id']][_0x5de304(0x128)]};}return _0x537360[_0x5de304(0x11d)](_0x18ba53);}catch(_0x72d9e4){console['log'](_0x5de304(0x133)+_0x72d9e4),_0x537360[_0x5de304(0x11d)]('[]');}}),router['get'](a13_0x5c24a0(0x118),async(_0x190493,_0x21c18b)=>{const _0x191cd9=a13_0x5c24a0;try{const _0x6ba093='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x2eee79=_0x191cd9(0x122),_0x30e6e8=_0x191cd9(0x111),_0xd47cf5=[],_0x1d5948={},_0x58e29f={};let [_0x2b3f]=await conn[_0x191cd9(0x12b)]()[_0x191cd9(0x120)](_0x30e6e8);for(let _0x4e4368=0x0;_0x4e4368<_0x2b3f[_0x191cd9(0x138)];_0x4e4368++){const _0x331059=_0x2b3f[_0x4e4368];_0x58e29f[_0x331059['id']]={'id':_0x331059['id'],'hex':'#'+_0x331059['hex']};}console[_0x191cd9(0x134)]({'colors':_0x58e29f});const [_0x42abfe]=await conn[_0x191cd9(0x12b)]()['query'](_0x2eee79);for(let _0x1aa3bb=0x0;_0x1aa3bb<_0x42abfe[_0x191cd9(0x138)];_0x1aa3bb++){const _0x311618=_0x42abfe[_0x1aa3bb];_0x1d5948[_0x311618['id']]={'id':_0x311618['id'],'name':_0x311618['name'],'color_id':_0x311618[_0x191cd9(0x131)],'color':_0x58e29f[_0x311618[_0x191cd9(0x131)]][_0x191cd9(0x128)]};}const [_0xa3d2f3]=await conn['promise']()[_0x191cd9(0x120)](_0x6ba093);for(let _0x207627=0x0;_0x207627<_0xa3d2f3[_0x191cd9(0x138)];_0x207627++){const _0x1f81e5=_0xa3d2f3[_0x207627];_0xd47cf5['push']({'id':_0x1f81e5['id'],'room_id':_0x1f81e5['room_id'],'employee_number':_0x1f81e5['employee_number'],'phone':_0x1f81e5[_0x191cd9(0x121)],'floor_id':_0x1f81e5[_0x191cd9(0x11f)],'org2_id':_0x1f81e5['org2_id'],'firstname':_0x1f81e5[_0x191cd9(0x130)][_0x191cd9(0x115)]('\x20')[0x0],'lastname':_0x1f81e5['employeeName'][_0x191cd9(0x115)]('\x20')[0x1],'employeeName':_0x1f81e5[_0x191cd9(0x130)],'department':_0x1d5948[_0x1f81e5[_0x191cd9(0x12a)]]});}_0x21c18b[_0x191cd9(0x11d)](_0xd47cf5);}catch(_0x83d26d){console[_0x191cd9(0x134)]('DB\x20/employees\x20error'+_0x83d26d),_0x21c18b[_0x191cd9(0x11d)]('[]');}}),module[a13_0x5c24a0(0x12e)]=router;function a13_0x5c3c(){const _0x44670a=['express','hex','Router','org2_id','promise','name','1060493sZIsgy','exports','../CADViewer_config.json','employeeName','color_id','path','DB\x20/org2s\x20error','log','image_content_type','4579488aKfWyx','/photos/:room_id','length','created_at','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','2033190MDOdeK','SELECT\x20id,\x20hex\x20FROM\x20colors','updated_at','image_updated_at','39416NkRlut','split','/org2s','get','/employees','push','2117445qyOqWa','16ZdVWZC','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','send','541113zygNxB','floor_id','query','phone','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','params','/original/','60TESSmz','1899368dnlhmd'];a13_0x5c3c=function(){return _0x44670a;};return a13_0x5c3c();}