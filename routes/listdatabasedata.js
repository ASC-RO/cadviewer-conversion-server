const a13_0x5c6524=a13_0x2aec;(function(_0x2bcb6a,_0xe77c7c){const _0x4a30f4=a13_0x2aec,_0x464360=_0x2bcb6a();while(!![]){try{const _0x23adba=parseInt(_0x4a30f4(0xe4))/0x1*(parseInt(_0x4a30f4(0xd9))/0x2)+-parseInt(_0x4a30f4(0xf5))/0x3*(parseInt(_0x4a30f4(0xd8))/0x4)+-parseInt(_0x4a30f4(0xe2))/0x5*(parseInt(_0x4a30f4(0xe6))/0x6)+parseInt(_0x4a30f4(0xee))/0x7+parseInt(_0x4a30f4(0xdf))/0x8+-parseInt(_0x4a30f4(0xf7))/0x9+parseInt(_0x4a30f4(0xd7))/0xa*(parseInt(_0x4a30f4(0xe1))/0xb);if(_0x23adba===_0xe77c7c)break;else _0x464360['push'](_0x464360['shift']());}catch(_0x54a6d1){_0x464360['push'](_0x464360['shift']());}}}(a13_0xe0e0,0x44a99));function a13_0xe0e0(){const _0x1a731c=['hex','color_id','/employees','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','2831612KPJbHh','org2_id','send','/org2s','log','params','image_file_name','42CBIzbV','../CADViewer_config.json','490113alvPXE','/original/','split','query','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','employee_number','length','SELECT\x20id,\x20hex\x20FROM\x20colors','image_content_type','employeeName','/photos/:room_id','10aHtTxu','157448UXusPh','262564BYtMLA','promise','path','Router','room_id','express','1397728oHHZEl','get','3487231CblQiZ','891025rAdQxa','floor_id','4LcZawQ','updated_at','18DPzbcM','DB\x20/employees\x20error','created_at','../libs/mysql.js'];a13_0xe0e0=function(){return _0x1a731c;};return a13_0xe0e0();}const fs=require('fs'),path=require(a13_0x5c6524(0xdb)),config=require(a13_0x5c6524(0xf6)),conn=require(a13_0x5c6524(0xe9)),express=require(a13_0x5c6524(0xde)),router=express[a13_0x5c6524(0xdc)]();function a13_0x2aec(_0x2224f8,_0x296f9d){const _0xe0e08=a13_0xe0e0();return a13_0x2aec=function(_0x2aecba,_0x248985){_0x2aecba=_0x2aecba-0xd3;let _0x880221=_0xe0e08[_0x2aecba];return _0x880221;},a13_0x2aec(_0x2224f8,_0x296f9d);}router[a13_0x5c6524(0xe0)](a13_0x5c6524(0xd6),async(_0x4ecca1,_0x1b2847)=>{const _0x2acdbe=a13_0x5c6524;try{const _0x7a288e=_0x4ecca1[_0x2acdbe(0xf3)]['room_id'],_0x29fa98='SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20'+_0x7a288e,_0x406519=[],[_0x500cc7]=await conn['promise']()['query'](_0x29fa98);for(let _0x4a2418=0x0;_0x4a2418<_0x500cc7[_0x2acdbe(0xfd)];_0x4a2418++){const _0x9925b3=_0x500cc7[_0x4a2418];_0x406519['push']({'id':_0x9925b3['id'],'image_file_name':'/photos/'+_0x9925b3['id']+_0x2acdbe(0xf8)+_0x9925b3[_0x2acdbe(0xf4)],'image_content_type':_0x9925b3[_0x2acdbe(0xd4)],'image_file_size':_0x9925b3['image_file_size'],'image_updated_at':_0x9925b3['image_updated_at'],'created_at':_0x9925b3[_0x2acdbe(0xe8)],'updated_at':_0x9925b3[_0x2acdbe(0xe5)]});}_0x1b2847['send'](_0x406519);}catch(_0x52fbcc){console['log'](_0x52fbcc),_0x1b2847[_0x2acdbe(0xf0)]([]);}}),router[a13_0x5c6524(0xe0)](a13_0x5c6524(0xf1),async(_0x466bb6,_0x544266)=>{const _0x4324c9=a13_0x5c6524;try{const _0x2ee9f5=_0x4324c9(0xed),_0x3711a7=_0x4324c9(0xfb),_0x5d2dd9=_0x4324c9(0xd3),_0x26d62d=[],_0x3aae2d={},_0x25ab33={},[_0x2b792b]=await conn[_0x4324c9(0xda)]()[_0x4324c9(0xfa)](_0x5d2dd9);for(let _0xac8663=0x0;_0xac8663<_0x2b792b[_0x4324c9(0xfd)];_0xac8663++){const _0x440798=_0x2b792b[_0xac8663];_0x25ab33[_0x440798['id']]={'id':_0x440798['id'],'hex':'#'+_0x440798[_0x4324c9(0xea)]};}const [_0x4f20e6]=conn[_0x4324c9(0xda)]()['query'](_0x3711a7);for(let _0x43fc1d=0x0;_0x43fc1d<_0x4f20e6[_0x4324c9(0xfd)];_0x43fc1d++){const _0x4db0c7=_0x4f20e6[_0x43fc1d];_0x3aae2d[_0x4db0c7['id']]={'id':_0x4db0c7['id'],'name':_0x4db0c7['name'],'color_id':_0x4db0c7[_0x4324c9(0xeb)],'color':_0x25ab33[_0x4db0c7[_0x4324c9(0xeb)]][_0x4324c9(0xea)]};}return _0x544266['send'](_0x3aae2d);}catch(_0x1a3cde){console[_0x4324c9(0xf2)]('DB\x20/org2s\x20error'+_0x1a3cde),_0x544266[_0x4324c9(0xf0)]('[]');}}),router[a13_0x5c6524(0xe0)](a13_0x5c6524(0xec),async(_0xf45fcd,_0x246936)=>{const _0x40e191=a13_0x5c6524;try{const _0x1e58b5='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x3b4069='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x308411=_0x40e191(0xd3),_0x410786=[],_0x347389={},_0x576c53={};let [_0x5b8242]=await conn[_0x40e191(0xda)]()[_0x40e191(0xfa)](_0x308411);for(let _0x4a2c25=0x0;_0x4a2c25<_0x5b8242[_0x40e191(0xfd)];_0x4a2c25++){const _0x28ad0d=_0x5b8242[_0x4a2c25];_0x576c53[_0x28ad0d['id']]={'id':_0x28ad0d['id'],'hex':'#'+_0x28ad0d[_0x40e191(0xea)]};}console[_0x40e191(0xf2)]({'colors':_0x576c53});const [_0x17f087]=await conn['promise']()[_0x40e191(0xfa)](_0x3b4069);for(let _0xe370c9=0x0;_0xe370c9<_0x17f087[_0x40e191(0xfd)];_0xe370c9++){const _0x2be68f=_0x17f087[_0xe370c9];_0x347389[_0x2be68f['id']]={'id':_0x2be68f['id'],'name':_0x2be68f['name'],'color_id':_0x2be68f['color_id'],'color':_0x576c53[_0x2be68f[_0x40e191(0xeb)]][_0x40e191(0xea)]};}const [_0x5b8f7f]=await conn[_0x40e191(0xda)]()[_0x40e191(0xfa)](_0x1e58b5);for(let _0x36eb8c=0x0;_0x36eb8c<_0x5b8f7f[_0x40e191(0xfd)];_0x36eb8c++){const _0x42b12e=_0x5b8f7f[_0x36eb8c];_0x410786['push']({'id':_0x42b12e['id'],'room_id':_0x42b12e[_0x40e191(0xdd)],'employee_number':_0x42b12e[_0x40e191(0xfc)],'phone':_0x42b12e['phone'],'floor_id':_0x42b12e[_0x40e191(0xe3)],'org2_id':_0x42b12e[_0x40e191(0xef)],'firstname':_0x42b12e[_0x40e191(0xd5)][_0x40e191(0xf9)]('\x20')[0x0],'lastname':_0x42b12e[_0x40e191(0xd5)][_0x40e191(0xf9)]('\x20')[0x1],'employeeName':_0x42b12e[_0x40e191(0xd5)],'department':_0x347389[_0x42b12e[_0x40e191(0xef)]]});}_0x246936['send'](_0x410786);}catch(_0x6ec836){console['log'](_0x40e191(0xe7)+_0x6ec836),_0x246936[_0x40e191(0xf0)]('[]');}}),module['exports']=router;