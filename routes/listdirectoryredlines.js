var a15_0x235c6d=a15_0x1c11;function a15_0x1c11(_0x3ee26f,_0x106161){var _0x117f23=a15_0x117f();return a15_0x1c11=function(_0x1c110d,_0x586540){_0x1c110d=_0x1c110d-0x1b0;var _0x1309e7=_0x117f23[_0x1c110d];return _0x1309e7;},a15_0x1c11(_0x3ee26f,_0x106161);}(function(_0x45a064,_0x579f64){var _0x348d88=a15_0x1c11,_0xcdaf6=_0x45a064();while(!![]){try{var _0x3087dc=-parseInt(_0x348d88(0x1c0))/0x1+-parseInt(_0x348d88(0x1d3))/0x2*(parseInt(_0x348d88(0x1b1))/0x3)+parseInt(_0x348d88(0x1b7))/0x4+parseInt(_0x348d88(0x1c4))/0x5*(-parseInt(_0x348d88(0x1bf))/0x6)+-parseInt(_0x348d88(0x1c3))/0x7*(-parseInt(_0x348d88(0x1c6))/0x8)+-parseInt(_0x348d88(0x1c1))/0x9*(-parseInt(_0x348d88(0x1c9))/0xa)+-parseInt(_0x348d88(0x1bb))/0xb;if(_0x3087dc===_0x579f64)break;else _0xcdaf6['push'](_0xcdaf6['shift']());}catch(_0xfbc710){_0xcdaf6['push'](_0xcdaf6['shift']());}}}(a15_0x117f,0x2bac6));var config=require('../CADViewer_config.json'),cvjs_debug=config[a15_0x235c6d(0x1c5)],express=require('express'),router=express[a15_0x235c6d(0x1cd)]();function a15_0x117f(){var _0x59df2e=['1276208SFyBMA','readdirSync','directory:','setHeader','315150OMVLdk','log','Access-Control-Allow-Origin','error\x20listdirectoryredlines','6AytHxQ','286305IkNvCx','2411082yAopQq','list\x20redline\x20listtype:','74606WZQobr','334010pnAcTW','cvjs_debug','232XoEjSB','.red','replace','10iFgNPb','replaceAll','body','.json','Router','ServerUrl','substring','ServerFrontEndUrl','<br>','Access-Control-Allow-Origin\x20:\x20*','21638rwPhCe','Access-Control-Allow-Origin\x20:','ServerLocation','.rw','send','93rymQqc','listtype','toLowerCase','serverfolder','length','indexOf'];a15_0x117f=function(){return _0x59df2e;};return a15_0x117f();}router['post']('/listdirectoryredlines',(_0x5249a9,_0x51d1f1)=>{var _0x9db716=a15_0x235c6d;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x51d1f1[_0x9db716(0x1ba)]('Access-Control-Allow-Origin',config[_0x9db716(0x1d0)]);if(cvjs_debug)console[_0x9db716(0x1bc)](_0x9db716(0x1d4)+config[_0x9db716(0x1d0)]);}else{_0x51d1f1[_0x9db716(0x1ba)](_0x9db716(0x1bd),'*');if(cvjs_debug)console[_0x9db716(0x1bc)](_0x9db716(0x1d2));}try{var _0x3912a0=_0x5249a9[_0x9db716(0x1cb)]['directory'],_0x44cb97=_0x5249a9[_0x9db716(0x1cb)][_0x9db716(0x1b2)];if(cvjs_debug)console[_0x9db716(0x1bc)](_0x9db716(0x1c2)+_0x44cb97);_0x44cb97==_0x9db716(0x1b4)&&(_0x3912a0=config['ServerLocation']+_0x3912a0);if(cvjs_debug)console[_0x9db716(0x1bc)](_0x9db716(0x1b9)+_0x3912a0);_0x3912a0=decodeURI(_0x3912a0),_0x3912a0=_0x3912a0[_0x9db716(0x1c8)](/%3A/g,':'),_0x3912a0=_0x3912a0[_0x9db716(0x1c8)](/%2F/g,'/'),_0x3912a0=_0x3912a0[_0x9db716(0x1c8)](/%20/g,'\x20'),_0x3912a0=_0x3912a0[_0x9db716(0x1ca)]('+','\x20');_0x3912a0[_0x9db716(0x1b6)](config['ServerFrontEndUrl'])==0x0&&(_0x3912a0=config[_0x9db716(0x1d5)]+_0x3912a0[_0x9db716(0x1cf)](config[_0x9db716(0x1ce)]['length']));_0x3912a0=_0x3912a0[_0x9db716(0x1c8)](/\\/g,'/');if(config[_0x9db716(0x1c5)])console[_0x9db716(0x1bc)]('/directory:\x20'+_0x3912a0);_0x3912a0[_0x9db716(0x1b6)](config[_0x9db716(0x1d0)])==0x0?inputFile=config[_0x9db716(0x1d5)]+_0x3912a0['substring'](config['ServerFrontEndUrl'][_0x9db716(0x1b5)]):_0x3912a0[_0x9db716(0x1b6)](config[_0x9db716(0x1ce)])==0x0&&(_0x3912a0=config[_0x9db716(0x1d5)]+_0x3912a0[_0x9db716(0x1cf)](config['ServerUrl']['length']));if(config[_0x9db716(0x1c5)])console['log']('2\x20/directory:\x20'+_0x3912a0);const _0x5f4e90=require('fs');var _0x273965='',_0x1ba927=_0x5f4e90[_0x9db716(0x1b8)](_0x3912a0,{'withFileTypes':!![]});for(var _0xeaac6 in _0x1ba927){var _0x1878f3=_0x1ba927[_0xeaac6];if(config[_0x9db716(0x1c5)])console[_0x9db716(0x1bc)](_0x1878f3);if(!(_0x1878f3[_0x9db716(0x1b6)](_0x9db716(0x1d6))>0x0)&&(_0x1878f3[_0x9db716(0x1b3)][_0x9db716(0x1b6)](_0x9db716(0x1cc))>0x0||_0x1878f3[_0x9db716(0x1b3)][_0x9db716(0x1b6)](_0x9db716(0x1c7))>0x0))_0x273965=_0x273965+_0x9db716(0x1d1)+_0x1878f3;}_0x51d1f1[_0x9db716(0x1b0)](_0x273965);}catch(_0x2f8f88){_0x51d1f1[_0x9db716(0x1b0)](_0x9db716(0x1be));if(config['cvjs_debug'])console[_0x9db716(0x1bc)](_0x2f8f88);}}),module['exports']=router;