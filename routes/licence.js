const a12_0x5e4a0c=a12_0x1f70;(function(_0x28b053,_0x5f4c42){const _0x2c933b=a12_0x1f70,_0x5aafdc=_0x28b053();while(!![]){try{const _0x302e4b=parseInt(_0x2c933b(0x19f))/0x1*(parseInt(_0x2c933b(0x16c))/0x2)+-parseInt(_0x2c933b(0x165))/0x3*(-parseInt(_0x2c933b(0x1a0))/0x4)+-parseInt(_0x2c933b(0x16e))/0x5*(-parseInt(_0x2c933b(0x179))/0x6)+-parseInt(_0x2c933b(0x189))/0x7+parseInt(_0x2c933b(0x18f))/0x8+parseInt(_0x2c933b(0x19b))/0x9*(-parseInt(_0x2c933b(0x166))/0xa)+-parseInt(_0x2c933b(0x173))/0xb*(parseInt(_0x2c933b(0x18d))/0xc);if(_0x302e4b===_0x5f4c42)break;else _0x5aafdc['push'](_0x5aafdc['shift']());}catch(_0x4af01f){_0x5aafdc['push'](_0x5aafdc['shift']());}}}(a12_0x25bc,0x28f43));function a12_0x25bc(){const _0x53eb2e=['/dl_lic.key','put','/dwgmerge/applylicense','get','filename','error','post','converterLocation','verify','readFile','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','dwgmergeLocation','791651LDCnfw','diskStorage','existsSync','cvKey\x20not\x20found','4596qoRbIm','License\x20applied','2337352DgxnBR','main','/verify','multer','match','/cvjs/applylicense','stderr:\x20','./uploads','/axlic.key','log','join','json','12627lMjXix','utf8','trim','body','11YjQMTG','2104WStLUV','/ll_lic.key','exports','uploads','Error\x20writing\x20licence\x20to\x20file','\x20-verify\x20-lpath=','renameSync','252MnLVSA','930xuhRwJ','file','writeFileSync','status','cadviewer/app/js/cvlicense.js','crypto','8474tLRmlM','express','115TQxfxG','mkdirSync','replaceAll','child_process','autoxchange_executable','5819oUlRxo','cadviewer/app/licence.html','/autoxchange/applylicense','split','path','linklistLocation','60252TEhOrP','dirname','single','sendFile'];a12_0x25bc=function(){return _0x53eb2e;};return a12_0x25bc();}const config=require('../CADViewer_config.json'),multer=require(a12_0x5e4a0c(0x192)),express=require(a12_0x5e4a0c(0x16d)),router=express['Router'](),fs=require('fs'),path=require(a12_0x5e4a0c(0x177)),{randomUUID}=require(a12_0x5e4a0c(0x16b)),{exec}=require('child_process'),dir=a12_0x5e4a0c(0x196);!fs[a12_0x5e4a0c(0x18b)](dir)&&fs[a12_0x5e4a0c(0x16f)](dir);function a12_0x1f70(_0x54a5f3,_0x42b208){const _0x25bc36=a12_0x25bc();return a12_0x1f70=function(_0x1f703b,_0x20df97){_0x1f703b=_0x1f703b-0x15f;let _0x40dcdf=_0x25bc36[_0x1f703b];return _0x40dcdf;},a12_0x1f70(_0x54a5f3,_0x42b208);}const storage=multer[a12_0x5e4a0c(0x18a)]({'destination':function(_0x578cb6,_0x4488cf,_0x4e9d97){const _0x2029a4=a12_0x5e4a0c;_0x4e9d97(null,_0x2029a4(0x161));}}),upload=multer({'storage':storage});router[a12_0x5e4a0c(0x180)]('',async(_0x3a643a,_0x8bb9fd)=>{const _0xcda2e8=a12_0x5e4a0c;_0x8bb9fd[_0xcda2e8(0x17c)](path[_0xcda2e8(0x199)](path['dirname'](require[_0xcda2e8(0x190)][_0xcda2e8(0x181)]),_0xcda2e8(0x174)));}),router[a12_0x5e4a0c(0x180)](a12_0x5e4a0c(0x191),async(_0x1073e3,_0x3eb278)=>{const _0x1acd14=a12_0x5e4a0c,_0x5a156e=config[_0x1acd14(0x184)][_0x1acd14(0x170)]('//','/'),_0x19914d=''+_0x5a156e+config[_0x1acd14(0x172)]+_0x1acd14(0x163)+_0x5a156e,{exec:_0x1bdcae}=require(_0x1acd14(0x171));fs[_0x1acd14(0x186)](path[_0x1acd14(0x199)](path[_0x1acd14(0x17a)](require[_0x1acd14(0x190)][_0x1acd14(0x181)]),_0x1acd14(0x16a)),_0x1acd14(0x19c),(_0x56510f,_0xa6d454)=>{const _0x323e0c=_0x1acd14,_0x965557=/cvKey:\s*"([^']+)"/;let _0x12f700=[];if(_0xa6d454&&!_0x56510f){const _0x539df0=_0xa6d454[_0x323e0c(0x193)](_0x965557);if(_0x539df0){const _0x5ef88=_0x539df0[0x1];_0x12f700=_0x5ef88[_0x323e0c(0x19d)]()[_0x323e0c(0x176)]('\x20');}else console[_0x323e0c(0x198)](_0x323e0c(0x18c));}_0x1bdcae(_0x19914d,(_0x27e8d1,_0x372b65,_0x4b36f3)=>{const _0xceeed6=_0x323e0c;console['error'](_0xceeed6(0x195)+_0x4b36f3),_0x3eb278['status'](0xc8)['json']({'verify':_0xceeed6(0x185),'stdout':_0x372b65,'cvjs':_0x12f700[_0xceeed6(0x199)]('\x20')});});});}),router[a12_0x5e4a0c(0x17e)](a12_0x5e4a0c(0x194),async(_0x23e3a5,_0xa8db60)=>{const _0x13156d=a12_0x5e4a0c,{cvjs:_0x486488}=_0x23e3a5[_0x13156d(0x19e)],_0xb3e0ec='\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22'+_0x486488+_0x13156d(0x187);try{fs[_0x13156d(0x168)](path[_0x13156d(0x199)](path[_0x13156d(0x17a)](require[_0x13156d(0x190)][_0x13156d(0x181)]),'cadviewer/app/js/cvlicense.js'),_0xb3e0ec,{'flag':'w'}),_0xa8db60[_0x13156d(0x169)](0xc8)[_0x13156d(0x19a)]({'msg':_0x13156d(0x18e)});}catch(_0x481ab9){_0xa8db60[_0x13156d(0x169)](0xc8)[_0x13156d(0x19a)]({'msg':_0x13156d(0x162)});}}),router['post'](a12_0x5e4a0c(0x175),upload[a12_0x5e4a0c(0x17b)]('file'),async(_0x506533,_0x22dcd9)=>{const _0x3e12ef=a12_0x5e4a0c,_0x4c7637=config['licenseLocation'][_0x3e12ef(0x170)]('//','/'),_0x48f312=config['converterLocation'][_0x3e12ef(0x170)]('//','/'),_0x466f78=''+_0x48f312+config[_0x3e12ef(0x172)]+_0x3e12ef(0x163)+_0x48f312;if(_0x506533[_0x3e12ef(0x167)]){const _0x24b7cb=_0x4c7637+_0x3e12ef(0x197);fs[_0x3e12ef(0x164)](_0x506533['file'][_0x3e12ef(0x177)],_0x24b7cb);const {exec:_0x2eee03}=require(_0x3e12ef(0x171));_0x2eee03(_0x466f78,(_0x23ecb0,_0x372bfc,_0x4ee113)=>{const _0x5a5df5=_0x3e12ef;console[_0x5a5df5(0x182)](_0x5a5df5(0x195)+_0x4ee113),_0x22dcd9[_0x5a5df5(0x169)](0xc8)[_0x5a5df5(0x19a)]({'msg':'License\x20applied','stdout':_0x372bfc});});}else{_0x22dcd9[_0x3e12ef(0x169)](0x190)[_0x3e12ef(0x19a)]({'error':''});return;}}),router[a12_0x5e4a0c(0x183)]('/linklist/applylicense',upload[a12_0x5e4a0c(0x17b)](a12_0x5e4a0c(0x167)),async(_0x46e56e,_0x65fc7c)=>{const _0x512596=a12_0x5e4a0c,_0x13dd7a=config[_0x512596(0x178)][_0x512596(0x170)]('//','/'),_0x2a5273=config[_0x512596(0x184)][_0x512596(0x170)]('//','/'),_0x3231fd=''+_0x2a5273+config[_0x512596(0x172)]+_0x512596(0x163)+_0x2a5273;if(_0x46e56e[_0x512596(0x167)]){const _0x5246c4=_0x13dd7a+_0x512596(0x15f);fs[_0x512596(0x164)](_0x46e56e[_0x512596(0x167)][_0x512596(0x177)],_0x5246c4);const {exec:_0x1a4181}=require('child_process');_0x1a4181(_0x3231fd,(_0xd5590d,_0x4647b8,_0x1478ae)=>{const _0x2bb961=_0x512596;console[_0x2bb961(0x182)]('stderr:\x20'+_0x1478ae),_0x65fc7c[_0x2bb961(0x169)](0xc8)[_0x2bb961(0x19a)]({'msg':_0x2bb961(0x18e),'stdout':_0x4647b8});});}else{_0x65fc7c[_0x512596(0x169)](0x190)[_0x512596(0x19a)]({'error':''});return;}}),router[a12_0x5e4a0c(0x183)](a12_0x5e4a0c(0x17f),upload['single']('file'),async(_0x5990d5,_0x53402d)=>{const _0x5ec7a5=a12_0x5e4a0c,_0x32af9f=config[_0x5ec7a5(0x188)][_0x5ec7a5(0x170)]('//','/'),_0x46aee0=config[_0x5ec7a5(0x184)][_0x5ec7a5(0x170)]('//','/'),_0x39886f=''+_0x46aee0+config[_0x5ec7a5(0x172)]+_0x5ec7a5(0x163)+_0x46aee0;if(_0x5990d5[_0x5ec7a5(0x167)]){const _0x595a46=_0x32af9f+_0x5ec7a5(0x17d);fs[_0x5ec7a5(0x164)](_0x5990d5[_0x5ec7a5(0x167)]['path'],_0x595a46);const {exec:_0x31e87a}=require('child_process');_0x31e87a(_0x39886f,(_0x334403,_0x35a22e,_0x5192d1)=>{const _0xf34a95=_0x5ec7a5;console[_0xf34a95(0x182)](_0xf34a95(0x195)+_0x5192d1),_0x53402d[_0xf34a95(0x169)](0xc8)['json']({'msg':_0xf34a95(0x18e),'stdout':_0x35a22e});});}else{_0x53402d['status'](0x190)[_0x5ec7a5(0x19a)]({'error':''});return;}}),module[a12_0x5e4a0c(0x160)]=router;