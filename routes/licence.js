const a12_0x3226bf=a12_0x1d98;function a12_0x4a67(){const _0x4ed0f9=['body','multer','existsSync','utf8','get','6946590qBpxFJ','renameSync','/dl_lic.key','stderr:\x20','main','put','readFile','1130476lkSdNB','log','split','88qUQRyj','/verify','/ll_lic.key','Router','autoxchange_executable','256081hLRUGj','mkdirSync','linklistLocation','/autoxchange/applylicense','file','join','522438rLRzHF','cvKey\x20not\x20found','License\x20applied','cadviewer/app/licence.html','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','55786OKhKwh','json','5SyfTUG','./uploads','converterLocation','writeFileSync','single','/dwgmerge/applylicense','../CADViewer_config.json','dirname','968049FdfRbc','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','child_process','express','2386386eoiXBY','replaceAll','/linklist/applylicense','verify','\x20-verify\x20-lpath=','/axlic.key','filename','error','/cvjs/applylicense','dwgmergeLocation','post','status','cadviewer/app/js/cvlicense.js','5Wlofzg','path'];a12_0x4a67=function(){return _0x4ed0f9;};return a12_0x4a67();}(function(_0x38b7ad,_0x374a5c){const _0x48f742=a12_0x1d98,_0x5ef91a=_0x38b7ad();while(!![]){try{const _0x39c89e=-parseInt(_0x48f742(0xec))/0x1*(parseInt(_0x48f742(0xea))/0x2)+-parseInt(_0x48f742(0xe5))/0x3+-parseInt(_0x48f742(0xd7))/0x4+-parseInt(_0x48f742(0xc9))/0x5*(parseInt(_0x48f742(0xbc))/0x6)+-parseInt(_0x48f742(0xdf))/0x7*(-parseInt(_0x48f742(0xda))/0x8)+parseInt(_0x48f742(0xb8))/0x9+parseInt(_0x48f742(0xd0))/0xa;if(_0x39c89e===_0x374a5c)break;else _0x5ef91a['push'](_0x5ef91a['shift']());}catch(_0x532f81){_0x5ef91a['push'](_0x5ef91a['shift']());}}}(a12_0x4a67,0x336f0));const config=require(a12_0x3226bf(0xb6)),multer=require(a12_0x3226bf(0xcc)),express=require(a12_0x3226bf(0xbb)),router=express[a12_0x3226bf(0xdd)](),fs=require('fs'),path=require(a12_0x3226bf(0xca)),{randomUUID}=require('crypto'),{exec}=require('child_process'),dir=a12_0x3226bf(0xed);!fs[a12_0x3226bf(0xcd)](dir)&&fs[a12_0x3226bf(0xe0)](dir);const storage=multer['diskStorage']({'destination':function(_0x14f3ef,_0xdbcd2c,_0x6875af){_0x6875af(null,'uploads');}}),upload=multer({'storage':storage});function a12_0x1d98(_0x1194d4,_0x2b30d4){const _0x4a671a=a12_0x4a67();return a12_0x1d98=function(_0x1d98ec,_0x172dd0){_0x1d98ec=_0x1d98ec-0xb3;let _0x42ba2a=_0x4a671a[_0x1d98ec];return _0x42ba2a;},a12_0x1d98(_0x1194d4,_0x2b30d4);}router[a12_0x3226bf(0xcf)]('',async(_0x582c8f,_0x50867c)=>{const _0x3dcaca=a12_0x3226bf;_0x50867c['sendFile'](path[_0x3dcaca(0xe4)](path['dirname'](require[_0x3dcaca(0xd4)]['filename']),_0x3dcaca(0xe8)));}),router[a12_0x3226bf(0xcf)](a12_0x3226bf(0xdb),async(_0x46a4c2,_0x4c0ab1)=>{const _0x271d4b=a12_0x3226bf,_0x4b90d6=config['converterLocation'][_0x271d4b(0xbd)]('//','/'),_0x545f5b=''+_0x4b90d6+config[_0x271d4b(0xde)]+_0x271d4b(0xc0)+_0x4b90d6,{exec:_0x1bc91a}=require(_0x271d4b(0xba));fs[_0x271d4b(0xd6)](path[_0x271d4b(0xe4)](path['dirname'](require[_0x271d4b(0xd4)][_0x271d4b(0xc2)]),_0x271d4b(0xc8)),_0x271d4b(0xce),(_0x447c26,_0x5029d8)=>{const _0x25ec80=_0x271d4b,_0xe83eb6=/cvKey:\s*"([^']+)"/;let _0x42b2c2=[];if(_0x5029d8&&!_0x447c26){const _0x368643=_0x5029d8['match'](_0xe83eb6);if(_0x368643){const _0x4a52ea=_0x368643[0x1];_0x42b2c2=_0x4a52ea['trim']()[_0x25ec80(0xd9)]('\x20');}else console[_0x25ec80(0xd8)](_0x25ec80(0xe6));}_0x1bc91a(_0x545f5b,(_0x40c6d7,_0xd5996a,_0xf4e862)=>{const _0x819c06=_0x25ec80;console[_0x819c06(0xc3)](_0x819c06(0xd3)+_0xf4e862),_0x4c0ab1['status'](0xc8)[_0x819c06(0xeb)]({'verify':_0x819c06(0xbf),'stdout':_0xd5996a,'cvjs':_0x42b2c2['join']('\x20')});});});}),router[a12_0x3226bf(0xd5)](a12_0x3226bf(0xc4),async(_0x3b3afa,_0xb4dab6)=>{const _0x32a256=a12_0x3226bf,{cvjs:_0x547b85}=_0x3b3afa[_0x32a256(0xcb)],_0x7e25c3=_0x32a256(0xb9)+_0x547b85+_0x32a256(0xe9);try{fs[_0x32a256(0xb3)](path[_0x32a256(0xe4)](path[_0x32a256(0xb7)](require['main'][_0x32a256(0xc2)]),_0x32a256(0xc8)),_0x7e25c3,{'flag':'w'}),_0xb4dab6[_0x32a256(0xc7)](0xc8)[_0x32a256(0xeb)]({'msg':'License\x20applied'});}catch(_0x20f29){_0xb4dab6[_0x32a256(0xc7)](0xc8)['json']({'msg':'Error\x20writing\x20licence\x20to\x20file'});}}),router['post'](a12_0x3226bf(0xe2),upload[a12_0x3226bf(0xb4)](a12_0x3226bf(0xe3)),async(_0x2cbf94,_0x7e2ce0)=>{const _0x3ecd73=a12_0x3226bf,_0x25bf59=config['licenseLocation']['replaceAll']('//','/'),_0x4f2f09=config['converterLocation'][_0x3ecd73(0xbd)]('//','/'),_0x3aa6c9=''+_0x4f2f09+config['autoxchange_executable']+_0x3ecd73(0xc0)+_0x4f2f09;if(_0x2cbf94[_0x3ecd73(0xe3)]){const _0x56550f=_0x25bf59+_0x3ecd73(0xc1);fs[_0x3ecd73(0xd1)](_0x2cbf94[_0x3ecd73(0xe3)]['path'],_0x56550f);const {exec:_0x19d203}=require(_0x3ecd73(0xba));_0x19d203(_0x3aa6c9,(_0x57bbd3,_0x2ecde2,_0x300a50)=>{const _0x45a21f=_0x3ecd73;console['error'](_0x45a21f(0xd3)+_0x300a50),_0x7e2ce0[_0x45a21f(0xc7)](0xc8)[_0x45a21f(0xeb)]({'msg':'License\x20applied','stdout':_0x2ecde2});});}else{_0x7e2ce0[_0x3ecd73(0xc7)](0x190)[_0x3ecd73(0xeb)]({'error':''});return;}}),router[a12_0x3226bf(0xc6)](a12_0x3226bf(0xbe),upload[a12_0x3226bf(0xb4)](a12_0x3226bf(0xe3)),async(_0x1f52ef,_0x3d23d6)=>{const _0x299bc3=a12_0x3226bf,_0x31c573=config[_0x299bc3(0xe1)][_0x299bc3(0xbd)]('//','/'),_0x5d252c=config['converterLocation'][_0x299bc3(0xbd)]('//','/'),_0x18c880=''+_0x5d252c+config[_0x299bc3(0xde)]+_0x299bc3(0xc0)+_0x5d252c;if(_0x1f52ef['file']){const _0x3b2a38=_0x31c573+_0x299bc3(0xdc);fs[_0x299bc3(0xd1)](_0x1f52ef[_0x299bc3(0xe3)][_0x299bc3(0xca)],_0x3b2a38);const {exec:_0x928bed}=require(_0x299bc3(0xba));_0x928bed(_0x18c880,(_0x59dd78,_0x3a4a86,_0x14ba0d)=>{const _0x101d85=_0x299bc3;console[_0x101d85(0xc3)]('stderr:\x20'+_0x14ba0d),_0x3d23d6['status'](0xc8)[_0x101d85(0xeb)]({'msg':'License\x20applied','stdout':_0x3a4a86});});}else{_0x3d23d6['status'](0x190)[_0x299bc3(0xeb)]({'error':''});return;}}),router[a12_0x3226bf(0xc6)](a12_0x3226bf(0xb5),upload[a12_0x3226bf(0xb4)](a12_0x3226bf(0xe3)),async(_0x410cac,_0x54f5f8)=>{const _0x471d57=a12_0x3226bf,_0x1cb653=config[_0x471d57(0xc5)]['replaceAll']('//','/'),_0x12b025=config[_0x471d57(0xee)][_0x471d57(0xbd)]('//','/'),_0x46a827=''+_0x12b025+config['autoxchange_executable']+_0x471d57(0xc0)+_0x12b025;if(_0x410cac['file']){const _0x383bff=_0x1cb653+_0x471d57(0xd2);fs[_0x471d57(0xd1)](_0x410cac[_0x471d57(0xe3)][_0x471d57(0xca)],_0x383bff);const {exec:_0x22655f}=require(_0x471d57(0xba));_0x22655f(_0x46a827,(_0x57a084,_0x4dd683,_0xb0efa1)=>{const _0x44cb4c=_0x471d57;console[_0x44cb4c(0xc3)](_0x44cb4c(0xd3)+_0xb0efa1),_0x54f5f8[_0x44cb4c(0xc7)](0xc8)['json']({'msg':_0x44cb4c(0xe7),'stdout':_0x4dd683});});}else{_0x54f5f8[_0x471d57(0xc7)](0x190)[_0x471d57(0xeb)]({'error':''});return;}}),module['exports']=router;