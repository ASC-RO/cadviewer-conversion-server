const a12_0x5b2ec8=a12_0x511f;function a12_0x511f(_0x29af69,_0x304286){const _0x2ec484=a12_0x2ec4();return a12_0x511f=function(_0x511f75,_0x59953a){_0x511f75=_0x511f75-0xe0;let _0x44518c=_0x2ec484[_0x511f75];return _0x44518c;},a12_0x511f(_0x29af69,_0x304286);}(function(_0x1eb031,_0x535674){const _0x1ca52e=a12_0x511f,_0x4f07ac=_0x1eb031();while(!![]){try{const _0xe69e52=-parseInt(_0x1ca52e(0xef))/0x1*(parseInt(_0x1ca52e(0xe4))/0x2)+-parseInt(_0x1ca52e(0xf9))/0x3+-parseInt(_0x1ca52e(0xe9))/0x4+-parseInt(_0x1ca52e(0x100))/0x5+-parseInt(_0x1ca52e(0xf7))/0x6+parseInt(_0x1ca52e(0x104))/0x7*(-parseInt(_0x1ca52e(0xe7))/0x8)+parseInt(_0x1ca52e(0x10f))/0x9;if(_0xe69e52===_0x535674)break;else _0x4f07ac['push'](_0x4f07ac['shift']());}catch(_0x241f2a){_0x4f07ac['push'](_0x4f07ac['shift']());}}}(a12_0x2ec4,0x275ae));const config=require('../CADViewer_config.json'),multer=require(a12_0x5b2ec8(0xec)),express=require(a12_0x5b2ec8(0xfa)),router=express[a12_0x5b2ec8(0x111)](),fs=require('fs'),path=require(a12_0x5b2ec8(0x109)),{randomUUID}=require(a12_0x5b2ec8(0x112)),{exec}=require('child_process'),dir=a12_0x5b2ec8(0xf1);!fs[a12_0x5b2ec8(0x108)](dir)&&fs[a12_0x5b2ec8(0xf3)](dir);const storage=multer[a12_0x5b2ec8(0xfc)]({'destination':function(_0x432319,_0x1cdd8a,_0x4dcf4d){_0x4dcf4d(null,'uploads');}}),upload=multer({'storage':storage});function a12_0x2ec4(){const _0x5e5a21=['1vkhQoE','main','./uploads','filename','mkdirSync','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','autoxchange_executable','join','976314OkNXiK','post','435108jzxJSQ','express','exports','diskStorage','licenseLocation','/verify','renameSync','1201220ykxRiR','cadviewer/app/licence.html','error','License\x20applied','651679OBXWqZ','readFile','converterLocation','verify','existsSync','path','dwgmergeLocation','child_process','match','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','single','8323524hbJxdb','replaceAll','Router','crypto','cadviewer/app/js/cvlicense.js','file','json','/cvjs/applylicense','Error\x20writing\x20licence\x20to\x20file','status','get','/linklist/applylicense','linklistLocation','body','/dl_lic.key','cvKey\x20not\x20found','111314Inzcop','put','log','8CBoEPi','dirname','267540wEaLyQ','\x20-verify\x20-lpath=','stderr:\x20','multer','/autoxchange/applylicense','sendFile'];a12_0x2ec4=function(){return _0x5e5a21;};return a12_0x2ec4();}router['get']('',async(_0xc71eef,_0x56c562)=>{const _0x39993f=a12_0x5b2ec8;_0x56c562[_0x39993f(0xee)](path[_0x39993f(0xf6)](path['dirname'](require[_0x39993f(0xf0)][_0x39993f(0xf2)]),_0x39993f(0x101)));}),router[a12_0x5b2ec8(0x119)](a12_0x5b2ec8(0xfe),async(_0x45c9a7,_0x101b1f)=>{const _0x282f54=a12_0x5b2ec8,_0x54ac17=config['converterLocation'][_0x282f54(0x110)]('//','/'),_0x16c756=''+_0x54ac17+config[_0x282f54(0xf5)]+_0x282f54(0xea)+_0x54ac17,{exec:_0x3c4bc7}=require('child_process');fs[_0x282f54(0x105)](path[_0x282f54(0xf6)](path[_0x282f54(0xe8)](require[_0x282f54(0xf0)][_0x282f54(0xf2)]),_0x282f54(0x113)),'utf8',(_0x35d099,_0x41735e)=>{const _0x413aa7=_0x282f54,_0x443530=/cvKey:\s*"([^']+)"/;let _0xeee8cd=[];if(_0x41735e&&!_0x35d099){const _0x5d8f9d=_0x41735e[_0x413aa7(0x10c)](_0x443530);if(_0x5d8f9d){const _0x19e313=_0x5d8f9d[0x1];_0xeee8cd=_0x19e313['trim']()['split']('\x20');}else console[_0x413aa7(0xe6)](_0x413aa7(0xe3));}_0x3c4bc7(_0x16c756,(_0x117865,_0x3b7463,_0x36e9d7)=>{const _0x4fd541=_0x413aa7;console[_0x4fd541(0x102)](_0x4fd541(0xeb)+_0x36e9d7),_0x101b1f[_0x4fd541(0x118)](0xc8)[_0x4fd541(0x115)]({'verify':_0x4fd541(0x107),'stdout':_0x3b7463,'cvjs':_0xeee8cd[_0x4fd541(0xf6)]('\x20')});});});}),router[a12_0x5b2ec8(0xe5)](a12_0x5b2ec8(0x116),async(_0x379383,_0x2cfe3d)=>{const _0x43b137=a12_0x5b2ec8,{cvjs:_0x5dcbc2}=_0x379383[_0x43b137(0xe1)],_0x500964=_0x43b137(0x10d)+_0x5dcbc2+_0x43b137(0xf4);try{fs['writeFileSync'](path[_0x43b137(0xf6)](path['dirname'](require[_0x43b137(0xf0)][_0x43b137(0xf2)]),_0x43b137(0x113)),_0x500964,{'flag':'w'}),_0x2cfe3d[_0x43b137(0x118)](0xc8)[_0x43b137(0x115)]({'msg':'License\x20applied'});}catch(_0x52009a){_0x2cfe3d[_0x43b137(0x118)](0xc8)[_0x43b137(0x115)]({'msg':_0x43b137(0x117)});}}),router[a12_0x5b2ec8(0xf8)](a12_0x5b2ec8(0xed),upload[a12_0x5b2ec8(0x10e)](a12_0x5b2ec8(0x114)),async(_0x480dcf,_0x3f447d)=>{const _0x174856=a12_0x5b2ec8,_0xdbe406=config[_0x174856(0xfd)]['replaceAll']('//','/'),_0x376456=config[_0x174856(0x106)][_0x174856(0x110)]('//','/'),_0x1bf137=''+_0x376456+config[_0x174856(0xf5)]+_0x174856(0xea)+_0x376456;if(_0x480dcf[_0x174856(0x114)]){const _0x185b78=_0xdbe406+'/axlic.key';fs[_0x174856(0xff)](_0x480dcf[_0x174856(0x114)][_0x174856(0x109)],_0x185b78);const {exec:_0x17f943}=require(_0x174856(0x10b));_0x17f943(_0x1bf137,(_0x57dc9f,_0x1fd752,_0x28353d)=>{const _0x19d283=_0x174856;console[_0x19d283(0x102)](_0x19d283(0xeb)+_0x28353d),_0x3f447d['status'](0xc8)[_0x19d283(0x115)]({'msg':'License\x20applied','stdout':_0x1fd752});});}else{_0x3f447d[_0x174856(0x118)](0x190)[_0x174856(0x115)]({'error':''});return;}}),router[a12_0x5b2ec8(0xf8)](a12_0x5b2ec8(0x11a),upload[a12_0x5b2ec8(0x10e)]('file'),async(_0x908c35,_0x3f9a47)=>{const _0x5c8b1c=a12_0x5b2ec8,_0x4cf8be=config[_0x5c8b1c(0xe0)][_0x5c8b1c(0x110)]('//','/'),_0x44b2ed=config[_0x5c8b1c(0x106)][_0x5c8b1c(0x110)]('//','/'),_0x4414af=''+_0x44b2ed+config[_0x5c8b1c(0xf5)]+_0x5c8b1c(0xea)+_0x44b2ed;if(_0x908c35['file']){const _0x240805=_0x4cf8be+'/ll_lic.key';fs[_0x5c8b1c(0xff)](_0x908c35[_0x5c8b1c(0x114)]['path'],_0x240805);const {exec:_0x3e847e}=require(_0x5c8b1c(0x10b));_0x3e847e(_0x4414af,(_0x2cdc81,_0x89d3e0,_0x38dbeb)=>{const _0x34e187=_0x5c8b1c;console[_0x34e187(0x102)]('stderr:\x20'+_0x38dbeb),_0x3f9a47[_0x34e187(0x118)](0xc8)['json']({'msg':'License\x20applied','stdout':_0x89d3e0});});}else{_0x3f9a47['status'](0x190)[_0x5c8b1c(0x115)]({'error':''});return;}}),router[a12_0x5b2ec8(0xf8)]('/dwgmerge/applylicense',upload[a12_0x5b2ec8(0x10e)](a12_0x5b2ec8(0x114)),async(_0x1b8c1a,_0x13ca43)=>{const _0x5c4a1d=a12_0x5b2ec8,_0x5674b2=config[_0x5c4a1d(0x10a)]['replaceAll']('//','/'),_0xef2c51=config['converterLocation'][_0x5c4a1d(0x110)]('//','/'),_0x3f4fbc=''+_0xef2c51+config[_0x5c4a1d(0xf5)]+_0x5c4a1d(0xea)+_0xef2c51;if(_0x1b8c1a[_0x5c4a1d(0x114)]){const _0x10381f=_0x5674b2+_0x5c4a1d(0xe2);fs['renameSync'](_0x1b8c1a[_0x5c4a1d(0x114)][_0x5c4a1d(0x109)],_0x10381f);const {exec:_0x3fdb4a}=require(_0x5c4a1d(0x10b));_0x3fdb4a(_0x3f4fbc,(_0x3c5060,_0x20dd66,_0x3d6684)=>{const _0x32aaa7=_0x5c4a1d;console['error'](_0x32aaa7(0xeb)+_0x3d6684),_0x13ca43[_0x32aaa7(0x118)](0xc8)[_0x32aaa7(0x115)]({'msg':_0x32aaa7(0x103),'stdout':_0x20dd66});});}else{_0x13ca43['status'](0x190)[_0x5c4a1d(0x115)]({'error':''});return;}}),module[a12_0x5b2ec8(0xfb)]=router;