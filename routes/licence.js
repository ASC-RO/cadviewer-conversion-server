const a12_0x36c2ab=a12_0x7ddf;(function(_0x4b1596,_0x27712c){const _0x515f2f=a12_0x7ddf,_0x893683=_0x4b1596();while(!![]){try{const _0x36e5f4=parseInt(_0x515f2f(0xdd))/0x1+-parseInt(_0x515f2f(0xa8))/0x2+parseInt(_0x515f2f(0xc6))/0x3*(parseInt(_0x515f2f(0xda))/0x4)+parseInt(_0x515f2f(0xe1))/0x5+parseInt(_0x515f2f(0xb7))/0x6*(parseInt(_0x515f2f(0xb8))/0x7)+-parseInt(_0x515f2f(0xac))/0x8+parseInt(_0x515f2f(0xe4))/0x9;if(_0x36e5f4===_0x27712c)break;else _0x893683['push'](_0x893683['shift']());}catch(_0x28e131){_0x893683['push'](_0x893683['shift']());}}}(a12_0x425d,0xc98b5));const config=require('../CADViewer_config.json'),multer=require(a12_0x36c2ab(0xaf)),express=require('express'),router=express[a12_0x36c2ab(0xdc)](),fs=require('fs'),path=require(a12_0x36c2ab(0xd5)),{randomUUID}=require(a12_0x36c2ab(0xba)),{exec}=require(a12_0x36c2ab(0xc3)),dir=a12_0x36c2ab(0xc9);!fs[a12_0x36c2ab(0xde)](dir)&&fs[a12_0x36c2ab(0xd8)](dir);function a12_0x7ddf(_0x18063a,_0x44e28c){const _0x425dcf=a12_0x425d();return a12_0x7ddf=function(_0x7ddf30,_0x9765e6){_0x7ddf30=_0x7ddf30-0xa8;let _0x4f86fe=_0x425dcf[_0x7ddf30];return _0x4f86fe;},a12_0x7ddf(_0x18063a,_0x44e28c);}function a12_0x425d(){const _0x26dc2c=['/cvjs/applylicense','filename','1617948muXaEJ','2875504TXXKwW','exports','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','replaceAll','3130072JnTGlk','/dl_lic.key','sendFile','multer','readFile','dirname','writeFileSync','error','verify','post','/dwgmerge/applylicense','6yJtEXT','3745399GpqHJL','status','crypto','trim','get','renameSync','/verify','Error\x20writing\x20licence\x20to\x20file','licenseLocation','log','/autoxchange/applylicense','child_process','/ll_lic.key','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','11787YhAgck','stderr:\x20','/axlic.key','./uploads','single','utf8','json','match','dwgmergeLocation','License\x20applied','cadviewer/app/js/cvlicense.js','uploads','cadviewer/app/licence.html','file','diskStorage','path','autoxchange_executable','/linklist/applylicense','mkdirSync','join','736MxiwHu','converterLocation','Router','468174GMjxHU','existsSync','\x20-verify\x20-lpath=','main','3742985wNuGOU'];a12_0x425d=function(){return _0x26dc2c;};return a12_0x425d();}const storage=multer[a12_0x36c2ab(0xd4)]({'destination':function(_0x2e21da,_0x49ff63,_0x4cc280){const _0x20a120=a12_0x36c2ab;_0x4cc280(null,_0x20a120(0xd1));}}),upload=multer({'storage':storage});router[a12_0x36c2ab(0xbc)]('',async(_0x117933,_0xe31319)=>{const _0x4006bd=a12_0x36c2ab;_0xe31319[_0x4006bd(0xae)](path['join'](path[_0x4006bd(0xb1)](require[_0x4006bd(0xe0)][_0x4006bd(0xe3)]),_0x4006bd(0xd2)));}),router['get'](a12_0x36c2ab(0xbe),async(_0x5c608e,_0x539690)=>{const _0x3c43c0=a12_0x36c2ab,_0x4d0f1e=config['converterLocation']['replaceAll']('//','/'),_0x4366f0=''+_0x4d0f1e+config[_0x3c43c0(0xd6)]+_0x3c43c0(0xdf)+_0x4d0f1e,{exec:_0x3e3633}=require(_0x3c43c0(0xc3));fs[_0x3c43c0(0xb0)](path[_0x3c43c0(0xd9)](path[_0x3c43c0(0xb1)](require['main'][_0x3c43c0(0xe3)]),_0x3c43c0(0xd0)),_0x3c43c0(0xcb),(_0x47035d,_0x25e242)=>{const _0x1a4b21=_0x3c43c0,_0x4bef96=/cvKey:\s*"([^']+)"/;let _0x137e21=[];if(_0x25e242&&!_0x47035d){const _0x2fd5bd=_0x25e242[_0x1a4b21(0xcd)](_0x4bef96);if(_0x2fd5bd){const _0x1e08a1=_0x2fd5bd[0x1];_0x137e21=_0x1e08a1[_0x1a4b21(0xbb)]()['split']('\x20');}else console[_0x1a4b21(0xc1)]('cvKey\x20not\x20found');}_0x3e3633(_0x4366f0,(_0x47ac97,_0x4adae5,_0x1dd277)=>{const _0x27fc4b=_0x1a4b21;console[_0x27fc4b(0xb3)]('stderr:\x20'+_0x1dd277),_0x539690['status'](0xc8)['json']({'verify':_0x27fc4b(0xb4),'stdout':_0x4adae5,'cvjs':_0x137e21['join']('\x20')});});});}),router['put'](a12_0x36c2ab(0xe2),async(_0x3782a2,_0x10ea5e)=>{const _0x53030b=a12_0x36c2ab,{cvjs:_0x46c0ea}=_0x3782a2['body'],_0x24b272=_0x53030b(0xaa)+_0x46c0ea+_0x53030b(0xc5);try{fs[_0x53030b(0xb2)](path[_0x53030b(0xd9)](path['dirname'](require[_0x53030b(0xe0)]['filename']),_0x53030b(0xd0)),_0x24b272,{'flag':'w'}),_0x10ea5e[_0x53030b(0xb9)](0xc8)['json']({'msg':_0x53030b(0xcf)});}catch(_0x5d72a7){_0x10ea5e['status'](0xc8)[_0x53030b(0xcc)]({'msg':_0x53030b(0xbf)});}}),router[a12_0x36c2ab(0xb5)](a12_0x36c2ab(0xc2),upload['single'](a12_0x36c2ab(0xd3)),async(_0xb9a0e7,_0xd8e32c)=>{const _0x3b5b91=a12_0x36c2ab,_0x4fe2b4=config[_0x3b5b91(0xc0)][_0x3b5b91(0xab)]('//','/'),_0x1e10b2=config['converterLocation']['replaceAll']('//','/'),_0xedb0f0=''+_0x1e10b2+config[_0x3b5b91(0xd6)]+_0x3b5b91(0xdf)+_0x1e10b2;if(_0xb9a0e7['file']){const _0x67ef57=_0x4fe2b4+_0x3b5b91(0xc8);fs[_0x3b5b91(0xbd)](_0xb9a0e7[_0x3b5b91(0xd3)][_0x3b5b91(0xd5)],_0x67ef57);const {exec:_0x184317}=require(_0x3b5b91(0xc3));_0x184317(_0xedb0f0,(_0x252045,_0x17cea1,_0x370744)=>{const _0x47dac0=_0x3b5b91;console[_0x47dac0(0xb3)](_0x47dac0(0xc7)+_0x370744),_0xd8e32c[_0x47dac0(0xb9)](0xc8)[_0x47dac0(0xcc)]({'msg':'License\x20applied','stdout':_0x17cea1});});}else{_0xd8e32c[_0x3b5b91(0xb9)](0x190)[_0x3b5b91(0xcc)]({'error':''});return;}}),router[a12_0x36c2ab(0xb5)](a12_0x36c2ab(0xd7),upload[a12_0x36c2ab(0xca)](a12_0x36c2ab(0xd3)),async(_0x271f10,_0x5ceff3)=>{const _0x4a749a=a12_0x36c2ab,_0x4912f8=config['linklistLocation'][_0x4a749a(0xab)]('//','/'),_0x5881ea=config[_0x4a749a(0xdb)][_0x4a749a(0xab)]('//','/'),_0x2542c3=''+_0x5881ea+config[_0x4a749a(0xd6)]+_0x4a749a(0xdf)+_0x5881ea;if(_0x271f10[_0x4a749a(0xd3)]){const _0x4327d4=_0x4912f8+_0x4a749a(0xc4);fs[_0x4a749a(0xbd)](_0x271f10[_0x4a749a(0xd3)][_0x4a749a(0xd5)],_0x4327d4);const {exec:_0x4bcb6d}=require('child_process');_0x4bcb6d(_0x2542c3,(_0x474ee8,_0x59276,_0x2ee2eb)=>{const _0x887a7f=_0x4a749a;console[_0x887a7f(0xb3)](_0x887a7f(0xc7)+_0x2ee2eb),_0x5ceff3[_0x887a7f(0xb9)](0xc8)[_0x887a7f(0xcc)]({'msg':_0x887a7f(0xcf),'stdout':_0x59276});});}else{_0x5ceff3['status'](0x190)[_0x4a749a(0xcc)]({'error':''});return;}}),router[a12_0x36c2ab(0xb5)](a12_0x36c2ab(0xb6),upload[a12_0x36c2ab(0xca)]('file'),async(_0x482a1b,_0x359fac)=>{const _0x2bfefe=a12_0x36c2ab,_0x37a8b0=config[_0x2bfefe(0xce)][_0x2bfefe(0xab)]('//','/'),_0x148976=config[_0x2bfefe(0xdb)][_0x2bfefe(0xab)]('//','/'),_0x13a50f=''+_0x148976+config[_0x2bfefe(0xd6)]+_0x2bfefe(0xdf)+_0x148976;if(_0x482a1b[_0x2bfefe(0xd3)]){const _0xe09fe6=_0x37a8b0+_0x2bfefe(0xad);fs[_0x2bfefe(0xbd)](_0x482a1b[_0x2bfefe(0xd3)][_0x2bfefe(0xd5)],_0xe09fe6);const {exec:_0x1d86f8}=require(_0x2bfefe(0xc3));_0x1d86f8(_0x13a50f,(_0x2326a3,_0x582982,_0x575667)=>{const _0x4a9365=_0x2bfefe;console[_0x4a9365(0xb3)]('stderr:\x20'+_0x575667),_0x359fac['status'](0xc8)['json']({'msg':_0x4a9365(0xcf),'stdout':_0x582982});});}else{_0x359fac[_0x2bfefe(0xb9)](0x190)[_0x2bfefe(0xcc)]({'error':''});return;}}),module[a12_0x36c2ab(0xa9)]=router;