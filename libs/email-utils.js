function a3_0x36c4(){const _0x393653=['3iCHgZz','sendMail','follow_up_count',',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20wanted\x20to\x20inform\x20you\x20that\x20your\x20demo\x20account\x20will\x20expire\x20in\x202\x20days\x20and\x20will\x20be\x20automatically\x20deleted.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20you\x20wish\x20to\x20keep\x20your\x20account\x20and\x20all\x20your\x20data,\x20please\x20contact\x20us\x20on\x20<a\x20href=\x22mailto:developer@tailormade.com\x22>developer@tailormade.com</a>\x20or\x20<a\x20href=\x22mailto:internationalsales@tailormade.com\x22>internationalsales@tailormade.com</a>\x20as\x20soon\x20as\x20possible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Thank\x20you\x20for\x20using\x20CADViewer!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20</html>\x0a\x20\x20','/validate-email/','../CADViewer_config.json','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','12380QyJBfN','promise','execute','validation_token','demoUserRetentionDays','Deletion\x20prevention\x20email\x20sent\x20to\x20','first_name','119HGbkRR','Failed\x20to\x20send\x20follow-up\x20email\x20to\x20','Error\x20while\x20fetching\x20users\x20for\x20account\x20deletion\x20prevention\x20emails',',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20noticed\x20that\x20you\x20haven\x27t\x20validated\x20your\x20email\x20address\x20yet.\x20It\x27s\x20been\x20','email','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20</html>\x0a\x20\x20','6\x20hours','36387mNcplP','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x0a\x20\x20\x20\x20\x20\x20FROM\x20users\x0a\x20\x20\x20\x20\x20\x20WHERE\x20is_enabled\x20=\x200\x0a\x20\x20\x20\x20\x20\x20AND\x20validation_token\x20IS\x20NOT\x20NULL\x0a\x20\x20\x20\x20\x20\x20AND\x20follow_up_count\x20<\x203\x0a\x20\x20\x20\x20\x20\x20AND\x20created_at\x20<=\x20DATE_SUB(NOW(),\x20INTERVAL\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20CASE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20follow_up_count\x20=\x200\x20THEN\x203\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20follow_up_count\x20=\x201\x20THEN\x206\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20follow_up_count\x20=\x202\x20THEN\x2012\x0a\x20\x20\x20\x20\x20\x20\x20\x20END\x0a\x20\x20\x20\x20\x20\x20HOUR)\x0a\x20\x20\x20\x20','error','\x0a\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Welcome\x20to\x20CADViewer!</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20are\x20delighted\x20to\x20welcome\x20you\x20to\x20our\x20community.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>To\x20start\x20using\x20CADViewer\x20Visual\x20Query,\x20please\x20validate\x20your\x20email\x20address\x20by\x20clicking\x20the\x20button\x20below:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','frontendUrl','length','Follow-up\x20email\x20sent\x20to\x20','Important:\x20Your\x20CADViewer\x20Account\x20Will\x20Expire\x20Soon','Error\x20in\x20sendFollowUpEmails:','demoUserRetentionDaysAlertBeforeDeletion','900295AVFqbj','112IApxFt','Please\x20validate\x20your\x20CADViewer\x20email\x20address','260844CEvZJa','endsWith','Failed\x20to\x20send\x20email\x20to\x20','\x0a\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>CADViewer\x20Email\x20Validation\x20Reminder</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20','119810arODMs','./mail.js','3\x20hours','smtpFrom','\x0a\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Important:\x20Your\x20CADViewer\x20Account</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20','Welcome\x20to\x20CADViewer','===================error===================','Your\x20CADViewer\x20demo\x20account\x20will\x20expire\x20in\x202\x20days.\x20Please\x20contact\x20an\x20administrator\x20if\x20you\x20wish\x20to\x20keep\x20your\x20account.','log','\x22\x20class=\x22button\x22>Validate\x20my\x20email\x20address</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20the\x20button\x20doesn\x27t\x20work,\x20you\x20can\x20copy\x20and\x20paste\x20this\x20link\x20in\x20your\x20browser:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22word-break:\x20break-all;\x22>','56946lSAPrb','\x20since\x20you\x20registered.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>To\x20start\x20using\x20CADViewer\x20Visual\x20Query,\x20please\x20validate\x20your\x20email\x20address\x20by\x20clicking\x20the\x20button\x20below:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','150288QSuCZe','Failed\x20to\x20send\x20welcome\x20email\x20to\x20','CADViewer\x20Email\x20Validation\x20Reminder','username','No\x20users\x20to\x20notify\x20about\x20account\x20deletion'];a3_0x36c4=function(){return _0x393653;};return a3_0x36c4();}const a3_0x3625c9=a3_0x1b7d;function a3_0x1b7d(_0x89e160,_0x2f2ed2){const _0x36c4cd=a3_0x36c4();return a3_0x1b7d=function(_0x1b7dcd,_0x138be2){_0x1b7dcd=_0x1b7dcd-0x9a;let _0x3a6dc2=_0x36c4cd[_0x1b7dcd];return _0x3a6dc2;},a3_0x1b7d(_0x89e160,_0x2f2ed2);}(function(_0x120f7b,_0x3e4060){const _0x1e0906=a3_0x1b7d,_0x499c73=_0x120f7b();while(!![]){try{const _0x2b65b7=parseInt(_0x1e0906(0xcc))/0x1+parseInt(_0x1e0906(0xbc))/0x2*(-parseInt(_0x1e0906(0x9a))/0x3)+parseInt(_0x1e0906(0xa1))/0x4+parseInt(_0x1e0906(0xb9))/0x5+parseInt(_0x1e0906(0xca))/0x6*(-parseInt(_0x1e0906(0xa8))/0x7)+-parseInt(_0x1e0906(0xba))/0x8*(-parseInt(_0x1e0906(0xaf))/0x9)+parseInt(_0x1e0906(0xc0))/0xa;if(_0x2b65b7===_0x3e4060)break;else _0x499c73['push'](_0x499c73['shift']());}catch(_0x3dcd6d){_0x499c73['push'](_0x499c73['shift']());}}}(a3_0x36c4,0x1aeb0));const config=require(a3_0x3625c9(0x9f)),conn=require('./mysql.js'),transporter=require(a3_0x3625c9(0xc1))['transporter'],getWelcomeEmailTemplate=(_0xe68fca,_0x1d0ad2)=>{const _0x19c996=a3_0x3625c9;return _0x19c996(0xb2)+_0x1d0ad2+_0x19c996(0xc9)+_0x1d0ad2+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20</html>\x0a\x20\x20';},sendWelcomeEmail=async(_0x19ef94,_0x507984)=>{const _0x537bc7=a3_0x3625c9;try{let _0xcf65a5=config[_0x537bc7(0xb3)];_0xcf65a5[_0x537bc7(0xbd)]('/')&&(_0xcf65a5=_0xcf65a5['slice'](0x0,-0x1));const _0x148a80=_0xcf65a5+_0x537bc7(0x9e)+_0x507984,_0x1c81b1=getWelcomeEmailTemplate(_0x19ef94,_0x148a80),_0x303452={'from':config[_0x537bc7(0xc3)],'to':_0x19ef94['email'],'subject':_0x537bc7(0xc5),'text':_0x537bc7(0xc5),'html':_0x1c81b1};await transporter[_0x537bc7(0x9b)](_0x303452),console[_0x537bc7(0xc8)]('Welcome\x20email\x20sent\x20to\x20'+_0x19ef94[_0x537bc7(0xac)]);}catch(_0x5b3a4e){console[_0x537bc7(0xc8)](_0x537bc7(0xc6)),console[_0x537bc7(0xc8)](_0x537bc7(0xcd)+_0x19ef94[_0x537bc7(0xac)]+':',_0x5b3a4e);throw _0x5b3a4e;}},getAccountDeletionPreventionTemplate=_0xc5bb75=>{const _0x56ba95=a3_0x3625c9;return _0x56ba95(0xc4)+(_0xc5bb75[_0x56ba95(0xa7)]||_0xc5bb75['username'])+_0x56ba95(0x9d);},sendAccountDeletionPreventionEmails=async()=>{const _0xd5dd05=a3_0x3625c9;try{const [_0xbde51]=await conn[_0xd5dd05(0xa2)]()[_0xd5dd05(0xa3)](_0xd5dd05(0xa0),[config[_0xd5dd05(0xa5)]-config[_0xd5dd05(0xb8)]]);if(_0xbde51[_0xd5dd05(0xb4)]===0x0){console[_0xd5dd05(0xc8)](_0xd5dd05(0xd0));return;}for(const _0x294a6f of _0xbde51){const _0x305be9=getAccountDeletionPreventionTemplate(_0x294a6f),_0x5bac18={'from':config[_0xd5dd05(0xc3)],'to':_0x294a6f[_0xd5dd05(0xac)],'subject':_0xd5dd05(0xb6),'text':_0xd5dd05(0xc7),'html':_0x305be9};try{await transporter[_0xd5dd05(0x9b)](_0x5bac18),console['log'](_0xd5dd05(0xa6)+_0x294a6f[_0xd5dd05(0xac)]);}catch(_0x175ecd){console[_0xd5dd05(0xc8)](_0xd5dd05(0xc6)),console['log'](_0xd5dd05(0xbe)+_0x294a6f[_0xd5dd05(0xac)]),console[_0xd5dd05(0xc8)](_0x175ecd);}}}catch(_0x55877a){console['log'](_0xd5dd05(0xc6)),console[_0xd5dd05(0xc8)](_0xd5dd05(0xaa)),console[_0xd5dd05(0xc8)](_0x55877a);}},getFollowUpEmailTemplate=(_0x573560,_0x1de501,_0x183aed)=>{const _0x43e5cc=a3_0x3625c9,_0x47576e={0x1:_0x43e5cc(0xc2),0x2:_0x43e5cc(0xae),0x3:'12\x20hours'}[_0x183aed];return _0x43e5cc(0xbf)+(_0x573560[_0x43e5cc(0xa7)]||_0x573560[_0x43e5cc(0xcf)])+_0x43e5cc(0xab)+_0x47576e+_0x43e5cc(0xcb)+_0x1de501+_0x43e5cc(0xc9)+_0x1de501+_0x43e5cc(0xad);},sendFollowUpEmails=async()=>{const _0x2aa87a=a3_0x3625c9;try{const _0x5efd9b=_0x2aa87a(0xb0),[_0x35ddff]=await conn[_0x2aa87a(0xa2)]()[_0x2aa87a(0xa3)](_0x5efd9b);for(const _0x289991 of _0x35ddff){const _0x306888=config[_0x2aa87a(0xb3)]+_0x2aa87a(0x9e)+_0x289991[_0x2aa87a(0xa4)],_0x1e45e8=getFollowUpEmailTemplate(_0x289991,_0x306888,_0x289991[_0x2aa87a(0x9c)]+0x1),_0x258ea1={'from':config[_0x2aa87a(0xc3)],'to':_0x289991[_0x2aa87a(0xac)],'subject':_0x2aa87a(0xce),'text':_0x2aa87a(0xbb),'html':_0x1e45e8};try{await transporter[_0x2aa87a(0x9b)](_0x258ea1),await conn['promise']()[_0x2aa87a(0xa3)]('UPDATE\x20users\x20SET\x20follow_up_count\x20=\x20follow_up_count\x20+\x201\x20WHERE\x20id\x20=\x20?',[_0x289991['id']]),console['log'](_0x2aa87a(0xb5)+_0x289991[_0x2aa87a(0xac)]);}catch(_0x2aeea9){console['error'](_0x2aa87a(0xa9)+_0x289991[_0x2aa87a(0xac)]+':',_0x2aeea9);}}}catch(_0x584382){console[_0x2aa87a(0xb1)](_0x2aa87a(0xb7),_0x584382);}};module['exports']={'transporter':transporter,'sendFollowUpEmails':sendFollowUpEmails,'sendAccountDeletionPreventionEmails':sendAccountDeletionPreventionEmails,'sendWelcomeEmail':sendWelcomeEmail};